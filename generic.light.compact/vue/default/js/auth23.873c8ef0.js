"use strict";(self["webpackChunkvue_ui_teplate_gallery"]=self["webpackChunkvue_ui_teplate_gallery"]||[]).push([[563],{95058:function(i,t,a){a.r(t),a.d(t,{default:function(){return b}});var e=a(92436),s=a(7181),o=a(88125),l=a(77996),n=a(72602),r=a(12145),d=a(34646),u=a(94830),h=u.Z.inherit({ctor(i,t){this.editor=i,this.validator=t,this.validationRequestsCallbacks=[];var a=i=>{this.validationRequestsCallbacks.forEach((t=>t(i)))};i.validationRequest.add(a),i.on("disposing",(function(){i.validationRequest.remove(a)}))},getValue(){return this.editor.option("value")},getCurrentValidationError(){return this.editor.option("validationError")},bypass(){return this.editor.option("disabled")},applyValidationResults(i){this.editor.option({validationErrors:i.brokenRules,validationStatus:i.status})},reset(){this.editor.reset()},focus(){this.editor.focus()}}),p=h,v=a(70732),_=a(42061),f=a(81856),c="dx-validator",R="valid",g="invalid",V="pending",I=l.Z.inherit({_initOptions:function(i){this.callBase.apply(this,arguments),this.option(d.Z.initValidationOptions(i))},_getDefaultOptions(){return(0,n.l)(this.callBase(),{validationRules:[]})},_init(){this.callBase(),this._initGroupRegistration(),this.focused=(0,s["default"])(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration(){var i=this._findGroup();this._groupWasInit||this.on("disposing",(function(i){d.Z.removeRegisteredValidator(i.component._validationGroup,i.component)})),this._groupWasInit&&this._validationGroup===i||(d.Z.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=i,d.Z.registerValidatorInGroup(i,this))},_setOptionsByReference(){this.callBase(),(0,n.l)(this._optionsByReference,{validationGroup:!0})},_getEditor(){var i=this.$element()[0];return(0,e.aT)(i,"dx-validation-target")},_initAdapter(){var i=this._getEditor(),t=this.option("adapter");if(!t){if(i)return t=new p(i,this),t.validationRequestsCallbacks.push((i=>{this._validationInfo.skipValidation||this.validate(i)})),void this.option("adapter",t);throw o.Z.Error("E0120")}var a=t.validationRequestsCallbacks;a&&a.push((i=>{this.validate(i)}))},_toggleRTLDirection(i){var t,a,e,s=null!==(t=null===(a=this.option("adapter"))||void 0===a||null===(e=a.editor)||void 0===e?void 0:e.option("rtlEnabled"))&&void 0!==t?t:i;this.callBase(s)},_initMarkup(){this.$element().addClass(c),this.callBase()},_render(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes(){var i=this._getEditor();if(i){var t=this.option("validationRules")||[],a=t.some((i=>{var{type:t}=i;return"required"===t}))||null;i.isInitialized()&&i.setAria("required",a),i.option("_onMarkupRendered",(()=>{i.setAria("required",a)}))}},_visibilityChanged(i){i&&this._initGroupRegistration()},_optionChanged(i){switch(i.name){case"validationGroup":return void this._initGroupRegistration();case"validationRules":return this._resetValidationRules(),this._toggleAccessibilityAttributes(),void(void 0!==this.option("isValid")&&this.validate());case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(d.Z.synchronizeValidationOptions(i,this.option()));break;default:this.callBase(i)}},_getValidationRules(){return this._validationRules||(this._validationRules=(0,r.UI)(this.option("validationRules"),((i,t)=>(0,n.l)({},i,{validator:this,index:t})))),this._validationRules},_findGroup(){var i=this.$element();return this.option("validationGroup")||d.Z.findGroup(i,this._modelByElement(i))},_resetValidationRules(){delete this._validationRules},validate(i){var t,a=this.option("adapter"),e=this.option("name"),s=a.bypass&&a.bypass(),o=i&&void 0!==i.value?i.value:a.getValue(),l=a.getCurrentValidationError&&a.getCurrentValidationError(),r=this._getValidationRules(),u=this._validationInfo&&this._validationInfo.result;return u&&u.status===V&&u.value===o?(0,n.l)({},u):(s?t={isValid:!0,status:R}:l&&l.editorSpecific?(l.validator=this,t={isValid:!1,status:g,brokenRule:l,brokenRules:[l]}):t=d.Z.validate(o,r,e),t.id=(new f.Z).toString(),this._applyValidationResult(t,a),t.complete&&t.complete.then((i=>{i.id===this._validationInfo.result.id&&this._applyValidationResult(i,a)})),(0,n.l)({},this._validationInfo.result))},reset(){var i=this.option("adapter"),t={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:R,complete:null};this._validationInfo.skipValidation=!0,i.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(t,i)},_updateValidationResult(i){if(this._validationInfo.result&&this._validationInfo.result.id===i.id)for(var t in i)"id"!==t&&"complete"!==t&&(this._validationInfo.result[t]=i[t]);else{var a=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=(0,n.l)({},i,{complete:a})}},_applyValidationResult(i,t){var a=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(i.validator=this,this._updateValidationResult(i),t.applyValidationResults&&t.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status===V)return this._validationInfo.deferred||(this._validationInfo.deferred=new _.BH,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),void this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);this._validationInfo.result.status!==V&&(a(i),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(i),this._validationInfo.deferred=null))},focus(){var i=this.option("adapter");i&&i.focus&&i.focus()},_useTemplates:function(){return!1}});(0,v.Z)("dxValidator",I);var b=I}}]);