"use strict";(self["webpackChunkvue_ui_teplate_gallery"]=self["webpackChunkvue_ui_teplate_gallery"]||[]).push([[3718],{28995:function(t,e,i){var n=i(74962),a=i(64030),s=i(34571),o=i(9783),r="number",l="yyyy/MM/dd",h="yyyy/MM/dd HH:mm:ss",u=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,d=/^(\d{2}):(\d{2})(:(\d{2}))?$/,c=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],p=/^(\d{4})\/(\d{2})\/(\d{2})$/,_=3,m=function(t,e){var i;return(0,o.HD)(t)&&!e&&(i=g(t)),i||v(t)};function f(t){return+t||0}function v(t){var e=w(t)===l,i=!(0,o.J_)(t)&&Date.parse(t);if(!i&&e){var n=t.match(p);if(n){var a=new Date(f(n[1]),f(n[2]),f(n[3]));return a.setFullYear(f(n[1])),a.setMonth(f(n[2])-1),a.setDate(f(n[3])),a}}return(0,o.kE)(i)?new Date(i):t}function g(t){var e=t.match(u);if(!e)return e=t.match(d),e?new Date(0,0,0,f(e[1]),f(e[2]),f(e[4])):void 0;var i=f(e[1]),n=--e[3],a=e[5],s=0,o=0,r=t=>(i<100&&t.setFullYear(i),t);s=f(e[14]),o=f(e[16]),"-"===e[13]&&(s=-s,o=-o);var l=f(e[6])-s,h=f(e[8])-o,c=f(e[10]),p=function(t){return t=t||"",f(t)*Math.pow(10,_-t.length)}(e[11]);return e[12]?r(new Date(Date.UTC(i,n,a,l,h,c,p))):r(new Date(i,n,a,l,h,c,p))}var C=function(t,e){var i=t.match(u),n="";if(!i)return i=t.match(d),i?i[3]?"HH:mm:ss":"HH:mm":void 0;for(var a=1;a<c.length;a++)i[a]&&(n+=c[a]||i[a]);return"Z"===i[12]&&(n+="'Z'"),i[14]&&(i[15]?n+="xxx":i[16]?n+="xx":n+="x"),n},D=function(t){return"number"===typeof t?new Date(t):m(t,!(0,n.Z)().forceIsoDateParsing)},y=function(t,e){return e?(0,o.J_)(t)?e===r?t&&t.valueOf?t.valueOf():null:(0,a.P)(e,s.Z)(t):null:t},w=function(t){return"number"===typeof t?r:(0,o.HD)(t)?((0,n.Z)().forceIsoDateParsing&&(e=C(t)),e||(t.indexOf(":")>=0?h:l)):t?null:void 0;var e};e["Z"]={dateParser:m,deserializeDate:D,serializeDate:y,getDateSerializationFormat:w}},27298:function(t,e,i){var n=i(9541),a=i(66487),s=i(77996),o=i(12145),r=i(84518),l=i(72602),h=i(67209),u="dxSwipeable",d="dx-swipeable",c={onStart:n.BL,onUpdated:n.aq,onEnd:n.ut,onCancel:"dxswipecancel"},p=s.Z.inherit({_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{elastic:!0,immediate:!1,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass(d),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var t=this.NAME;this._createEventData(),(0,o.S6)(c,function(e,i){var n=this._createActionByOption(e,{context:this});i=(0,r.V4)(i,t),a.Z.on(this.$element(),i,this._eventData,(function(t){return n({event:t})}))}.bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate")}},_detachEventHandlers:function(){a.Z.off(this.$element(),"."+u)},_optionChanged:function(t){switch(t.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(t)}},_useTemplates:function(){return!1}});(0,h.u2)(p,u),e["Z"]=p},32254:function(t,e,i){i.d(e,{I:function(){return a}});var n=i(48868);class a{constructor(t){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=null!==t&&void 0!==t?t:n.Et}get isHorizontal(){return this.direction===n.Xv||this.direction===n.b$}get isVertical(){return this.direction===n.Et||this.direction===n.b$}get isBoth(){return this.direction===n.b$}}},81305:function(t,e,i){i.r(e);var n=i(60621),a=i(70732),s=i(72602),o=i(56901),r=i(54735),l=i(9783),h=i(18798),u=i(12145),d=i(67040),c=i(94418),p="dx-box",_="dx-box-flex",m="dx-box-item",f="dxBoxItemData",v=1,g={row:"minWidth",col:"minHeight"},C={row:"maxWidth",col:"maxHeight"},D={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},y={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},w={row:"row",col:"column"},x=(t,e,i)=>{if(i=(0,h.bh)(e,i),t.style[(0,h.Hj)(e)]=i,!(0,o.Ym)()){if(""===i||!(0,l.$K)(i))return;var n=(0,r.H0)(e),a=n+": "+i+";";t.attributes.style?t.attributes.style.value.indexOf(a)<0&&(t.attributes.style.value+=" "+a):t.setAttribute("style",a)}};class b extends d.Z{_renderVisible(t,e){super._renderVisible(t),(0,l.$K)(e)&&this._options.fireItemStateChangedAction({name:"visible",state:t,oldState:e})}}class V{constructor(t,e){this._$element=t,this._option=e}renderBox(){this._$element.css({display:(0,h.gC)("flexDirection")+"flex"}),x(this._$element.get(0),"flexDirection",w[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){var t=this._option("align");return t in D?D[t]:t}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){var t=this._option("crossAlign");return t in y?y[t]:t}renderItems(t){var e=(0,h.gC)("flexDirection"),i=this._option("direction");(0,u.S6)(t,(function(){var t=(0,n.Z)(this),a=t.data(f);t.css({display:e+"flex"}).css(C[i],a.maxSize||"none").css(g[i],a.minSize||"0"),x(t.get(0),"flexBasis",a.baseSize||0),x(t.get(0),"flexGrow",a.ratio),x(t.get(0),"flexShrink",(0,l.$K)(a.shrink)?a.shrink:v),t.children().each(((t,e)=>{(0,n.Z)(e).css({width:"auto",height:"auto",display:(0,h.gC)("flexDirection")+"flex",flexBasis:0}),x(e,"flexGrow",1),x(e,"flexDirection",(0,n.Z)(e)[0].style.flexDirection||"column")}))}))}}class S extends c.Z{_getDefaultOptions(){return(0,s.l)(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_queue:void 0})}_itemClass(){return m}_itemDataKey(){return f}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass(_),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout=new V(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return!this.option("_queue")&&!!this._queue.length}_pushItemToQueue(t,e){this._queue.push({$item:t,config:e})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass(p),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(t){super._renderItems(t);while(this._queueIsNotEmpty()){var e=this._shiftItemFromQueue();this._createComponent(e.$item,S,(0,s.l)({itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},e.config))}this._layout.renderItems(this._itemElements())}_renderItemContent(t){var e=t.itemData&&t.itemData.node;return e?this._renderItemContentByNode(t,e):super._renderItemContent(t)}_postprocessRenderItem(t){var e=t.itemData.box;e&&this._pushItemToQueue(t.itemContent,e)}_createItemByTemplate(t,e){return e.itemData.box?t.source?t.source():(0,n.Z)():super._createItemByTemplate(t,e)}_itemOptionChanged(t,e,i,n){"visible"===e&&this._onItemStateChanged({name:e,state:i,oldState:!1!==n}),super._itemOptionChanged(t,e,i)}_optionChanged(t){switch(t.name){case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(t)}}_itemOptions(){var t=super._itemOptions();return t.fireItemStateChangedAction=t=>{this._onItemStateChanged(t)},t}}S.ItemClass=b,(0,a.Z)("dxBox",S),e["default"]=S},50217:function(t,e,i){i.r(e),i.d(e,{default:function(){return yt}});var n=i(79264),a=i(60621),s=i(81856),o=i(70732),r=i(84392),l=i(9783),h=i(27773),u=i(72602),d=i(47949),c=i(63865),p=i(27298),_=i(71385),m="dx-calendar-navigator",f="dx-calendar-navigator-previous-month",v="dx-calendar-navigator-next-month",g="dx-calendar-navigator-previous-view",C="dx-calendar-navigator-next-view",D="dx-calendar-disabled-navigator-link",y="dx-calendar-caption-button",w=_.Z.inherit({_getDefaultOptions:function(){return(0,u.l)(this.callBase(),{onClick:null,onCaptionClick:null,text:""})},_init:function(){this.callBase(),this._initActions()},_initActions:function(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")},_initMarkup:function(){this.callBase(),this.$element().addClass(m),this._renderButtons(),this._renderCaption()},_renderButtons:function(){var t=this,e=this.option("rtlEnabled")?-1:1;this._prevButton=this._createComponent((0,a.Z)("<a>"),d["default"],{focusStateEnabled:!1,icon:"chevronleft",onClick:function(i){t._clickAction({direction:-e,event:i})},integrationOptions:{}});var i=this._prevButton.$element().addClass(g).addClass(f);this._nextButton=this._createComponent((0,a.Z)("<a>"),d["default"],{focusStateEnabled:!1,icon:"chevronright",onClick:function(i){t._clickAction({direction:e,event:i})},integrationOptions:{}});var n=this._nextButton.$element().addClass(C).addClass(v);this._caption=this._createComponent((0,a.Z)("<a>").addClass(y),d["default"],{focusStateEnabled:!1,onClick:function(e){t._captionClickAction({event:e})},integrationOptions:{}});var s=this._caption.$element();this.$element().append(i,s,n)},_renderCaption:function(){this._caption.option("text",this.option("text"))},toggleButton:function(t,e){var i="_"+t+"Button",n=this[i];n&&(n.option("disabled",e),n.$element().toggleClass(D,e))},_optionChanged:function(t){switch(t.name){case"text":this._renderCaption();break;default:this.callBase(t)}}}),x=w,b=i(33158),V=i(66487),S=i(92436),B=i(12117),I=i(14221),T=i(28995),E=i(19231),Z=i(84518),k=i(36879),{abstract:M}=_.Z,O="dx-calendar-other-view",A="dx-calendar-cell",P="dx-calendar-week-number-cell",F="dx-calendar-empty-cell",H="dx-calendar-today",N="dx-calendar-selected-date",$="dx-calendar-contoured-date",L=(0,Z.V4)(k.u,"dxCalendar"),R="dxDateValueKey",z=_.Z.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return(0,u.l)(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderEvents()},_createTable:function(){return this._$table=(0,a.Z)("<table>"),this.setAria({label:E.Z.format("dxCalendar-ariaWidgetName"),role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=(0,a.Z)("<tbody>").appendTo(this._$table);for(var t={cellDate:this._getFirstCellData(),prevCellDate:null},e=0,i=this.option("rowCount");e<i;e++){t.row=this._createRow();for(var n=0,s=this.option("colCount");n<s;n++)this._renderCell(t,n);this._renderWeekNumberCell(t)}},_createRow:function(){var t=b["default"].createElement("tr");return this.setAria("role","row",(0,a.Z)(t)),this.$body.get(0).appendChild(t),t},_appendCell:function(t,e){this._appendMethodName||this._cacheAppendMethodName(),(0,a.Z)(t)[this._appendMethodName](e)},_cacheAppendMethodName:function(t){this._appendMethodName=(null!==t&&void 0!==t?t:this.option("rtlEnabled"))?"prepend":"append"},_createCell:function(t){var e=b["default"].createElement("td"),i=(0,a.Z)(e);return e.className=this._getClassNameByDate(t),e.setAttribute("data-value",T.Z.serializeDate(t,I.Z.getShortDateFormat())),(0,S.aT)(e,R,t),this.setAria({role:"gridcell",label:this.getCellAriaLabel(t)},i),{cell:e,$cell:i}},_renderCell:function(t,e){var{cellDate:i,prevCellDate:n,row:a}=t;n&&I.Z.fixTimezoneGap(n,i),t.prevCellDate=i;var{cell:s,$cell:o}=this._createCell(i),r=this.option("cellTemplate");this._appendCell(a,s),r?r.render(this._prepareCellTemplateData(i,e,o)):s.innerHTML=this._getCellText(i),t.cellDate=this._getNextCellData(i)},_getClassNameByDate:function(t){var e=A;return this._isTodayCell(t)&&(e+=" ".concat(H)),(this._isDateOutOfRange(t)||this.isDateDisabled(t))&&(e+=" ".concat(F)),this._isOtherView(t)&&(e+=" ".concat(O)),e},_prepareCellTemplateData:function(t,e,i){var n=t instanceof Date,a=n?this._getCellText(t):t,s=n?t:void 0,o=this._getViewName();return{model:{text:a,date:s,view:o},container:(0,B.u)(i),index:e}},_renderEvents:function(){this._createCellClickAction(),V.Z.off(this._$table,L),V.Z.on(this._$table,L,"td:not(.".concat(P,")"),(t=>{(0,a.Z)(t.currentTarget).hasClass(F)||this._cellClickAction({event:t,value:(0,a.Z)(t.currentTarget).data(R)})}))},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createDisabledDatesHandler:function(){var t=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(t)?this._getDefaultDisabledDatesHandler(t):t||r.ZT},_getDefaultDisabledDatesHandler:function(t){return r.ZT},_isTodayCell:M,_isDateOutOfRange:M,isDateDisabled:function(t){var e={date:t,view:this._getViewName()};return this._disabledDatesHandler(e)},_isOtherView:M,_getCellText:M,_getFirstCellData:M,_getNextCellData:M,_renderContouredDate:function(t){if(this.option("focusStateEnabled")){t=t||this.option("contouredDate");var e=this._getContouredCell(),i=this._getCellByDate(t);e.removeClass($),i.addClass($)}},_getContouredCell:function(){return this._$table.find(".".concat($))},_changeValue:function(t){if(t){var e=this.option("value"),i=e?new Date(e):new Date;i.setDate(t.getDate()),i.setMonth(t.getMonth()),i.setFullYear(t.getFullYear()),i.setDate(t.getDate()),this.option("value",i)}else this.option("value",null)},_renderValue:function(){if(this.option("allowValueSelection")){var t=this.option("value"),e=this._getCellByDate(t);this._selectedCell&&this._selectedCell.removeClass(N),e.addClass(N),this._selectedCell=e}},getCellAriaLabel:function(t){return this._getCellText(t)},_getFirstAvailableDate:function(){var t=this.option("date"),e=this.option("min");return t=I.Z.getFirstDateView(this._getViewName(),t),new Date(e&&t<e?e:t)},_getCellByDate:M,isBoundary:M,_optionChanged:function(t){var{name:e,value:i}=t;switch(e){case"value":this._renderValue();break;case"contouredDate":this._renderContouredDate(i);break;case"onCellClick":this._createCellClickAction();break;case"disabledDates":case"cellTemplate":this._invalidate();break;case"rtlEnabled":this._cacheAppendMethodName(i),this.callBase(t);break;case"_todayDate":this._renderBody();break;default:this.callBase(t)}}}),W=z,K=i(93140),Y="dx-calendar-other-month",U="dx-calendar-other-view",q="dx-calendar-week-number-cell",j={month:W.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return(0,u.l)(this.callBase(),{firstDayOfWeek:0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat(U)).addClass(Y)},_renderFocusTarget:r.ZT,getCellAriaLabel:function(t){return K.Z.format(t,"longdate")},_renderHeader:function(){var t=(0,a.Z)("<tr>"),e=(0,a.Z)("<thead>").append(t);this._$table.prepend(e);for(var i=0,n=this.option("colCount");i<n;i++)this._renderHeaderCell(i,t);this.option("showWeekNumbers")&&this._renderWeekHeaderCell(t)},_renderHeaderCell:function(t,e){var{firstDayOfWeek:i}=this.option(),{full:n,abbreviated:s}=this._getDayCaption(i+t),o=(0,a.Z)("<th>").attr({scope:"col",abbr:n}).text(s);this._appendCell(e,o)},_renderWeekHeaderCell:function(t){var e=(0,a.Z)("<th>").attr({scope:"col",abbr:"WeekNumber",class:"dx-week-number-header"}).text("#"),i=this.option("rtlEnabled");i?t.append(e):t.prepend(e)},_renderWeekNumberCell:function(t){var{showWeekNumbers:e,rtlEnabled:i,cellTemplate:n}=this.option();if(e){var s=this._getWeekNumber(t.prevCellDate),o=b["default"].createElement("td"),r=(0,a.Z)(o);o.className=q,n?n.render(this._prepareCellTemplateData(s,-1,r)):o.innerHTML=s,i?t.row.append(o):t.row.prepend(o),this.setAria({role:"gridcell",label:"Week ".concat(s)},r)}},_getWeekNumber:function(t){var{weekNumberRule:e,firstDayOfWeek:i}=this.option();return"auto"===e?I.Z.getWeekNumber(t,i,1===i?"firstFourDays":"firstDay"):I.Z.getWeekNumber(t,i,e)},getNavigatorCaption:function(){return K.Z.format(this.option("date"),"monthandyear")},_isTodayCell:function(t){var e=this.option("_todayDate")();return I.Z.sameDate(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),i=this.option("max");return!I.Z.dateInRange(t,e,i,"date")},_isOtherView:function(t){return t.getMonth()!==this.option("date").getMonth()},_getCellText:function(t){return K.Z.format(t,"d")},_getDayCaption:function(t){var e=this.option("colCount"),i=t%e;return{full:K.Z.getDayNames()[i],abbreviated:K.Z.getDayNames("abbreviated")[i]}},_getFirstCellData:function(){var{firstDayOfWeek:t}=this.option(),e=I.Z.getFirstMonthDate(this.option("date")),i=t-e.getDay(),n=this.option("colCount");return i>=0&&(i-=n),e.setDate(e.getDate()+i),e},_getNextCellData:function(t){return t=new Date(t),t.setDate(t.getDate()+1),t},_getCellByDate:function(t){return this._$table.find("td[data-value='".concat(T.Z.serializeDate(t,I.Z.getShortDateFormat()),"']"))},isBoundary:function(t){return I.Z.sameMonthAndYear(t,this.option("min"))||I.Z.sameMonthAndYear(t,this.option("max"))},_getDefaultDisabledDatesHandler:function(t){return function(e){var i=t.some((function(t){return I.Z.sameDate(t,e.date)}));if(i)return!0}}}),year:W.inherit({_getViewName:function(){return"year"},_isTodayCell:function(t){var e=this.option("_todayDate")();return I.Z.sameMonthAndYear(t,e)},_isDateOutOfRange:function(t){return!I.Z.dateInRange(t,I.Z.getFirstMonthDate(this.option("min")),I.Z.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_getCellText:function(t){return K.Z.getMonthNames("abbreviated")[t.getMonth()]},_getFirstCellData:function(){var t=this.option("date"),e=new Date(t);return e.setDate(1),e.setMonth(0),e},_getNextCellData:function(t){return t=new Date(t),t.setMonth(t.getMonth()+1),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),this._$table.find("td[data-value='".concat(T.Z.serializeDate(e,I.Z.getShortDateFormat()),"']"))},getCellAriaLabel:function(t){return K.Z.format(t,"monthandyear")},getNavigatorCaption:function(){return K.Z.format(this.option("date"),"yyyy")},isBoundary:function(t){return I.Z.sameYear(t,this.option("min"))||I.Z.sameYear(t,this.option("max"))},_renderWeekNumberCell:r.ZT}),decade:W.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(t){var e=this.option("_todayDate")();return I.Z.sameYear(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),i=this.option("max");return!I.Z.dateInRange(t.getFullYear(),e&&e.getFullYear(),i&&i.getFullYear())},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!I.Z.sameDecade(e,this.option("date"))},_getCellText:function(t){return K.Z.format(t,"yyyy")},_getFirstCellData:function(){var t=I.Z.getFirstYearInDecade(this.option("date"))-1;return I.Z.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return t=new Date(t),t.setFullYear(t.getFullYear()+1),t},getNavigatorCaption:function(){var t=this.option("date"),e=I.Z.getFirstYearInDecade(t),i=new Date(t),n=new Date(t);return i.setFullYear(e),n.setFullYear(e+9),K.Z.format(i,"yyyy")+"-"+K.Z.format(n,"yyyy")},_isValueOnCurrentView:function(t,e){return I.Z.sameDecade(t,e)},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),this._$table.find("td[data-value='".concat(T.Z.serializeDate(e,I.Z.getShortDateFormat()),"']"))},isBoundary:function(t){return I.Z.sameDecade(t,this.option("min"))||I.Z.sameDecade(t,this.option("max"))},_renderWeekNumberCell:r.ZT}),century:W.inherit({_getViewName:function(){return"century"},_isTodayCell:function(t){var e=this.option("_todayDate")();return I.Z.sameDecade(t,e)},_isDateOutOfRange:function(t){var e=I.Z.getFirstYearInDecade(t),i=I.Z.getFirstYearInDecade(this.option("min")),n=I.Z.getFirstYearInDecade(this.option("max"));return!I.Z.dateInRange(e,i,n)},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!I.Z.sameCentury(e,this.option("date"))},_getCellText:function(t){var e=K.Z.format(t,"yyyy"),i=new Date(t);return i.setFullYear(i.getFullYear()+9),e+" - "+K.Z.format(i,"yyyy")},_getFirstCellData:function(){var t=I.Z.getFirstDecadeInCentury(this.option("date"))-10;return I.Z.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return t=new Date(t),t.setFullYear(t.getFullYear()+10),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),e.setFullYear(I.Z.getFirstYearInDecade(e)),this._$table.find("td[data-value='".concat(T.Z.serializeDate(e,I.Z.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var t=this.option("date"),e=I.Z.getFirstDecadeInCentury(t),i=new Date(t),n=new Date(t);return i.setFullYear(e),n.setFullYear(e+99),K.Z.format(i,"yyyy")+"-"+K.Z.format(n,"yyyy")},isBoundary:function(t){return I.Z.sameCentury(t,this.option("min"))||I.Z.sameCentury(t,this.option("max"))},_renderWeekNumberCell:r.ZT})},G=j,J=i(95328),Q=i(26256),X=i(11572),tt=i(56901),et=i(16195),it="dx-calendar",nt="dx-calendar-body",at="dx-calendar-cell",st="dx-calendar-footer",ot="dx-calendar-today-button",rt="dx-calendar-with-footer",lt="dx-calendar-views-wrapper",ht="dx-calendar-view",ut="dx-state-focused",dt=250,ct=.6,pt=1,_t="yyyy-MM-dd",mt="dxDateValueKey",ft={month:3,year:2,decade:1,century:0},vt={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"};function gt(t){return t.hasClass(ut)}var Ct=c.Z.inherit({_activeStateUnit:"."+at,_getDefaultOptions:function(){return(0,u.l)(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,zoomLevel:vt.MONTH,maxZoomLevel:vt.MONTH,minZoomLevel:vt.CENTURY,showTodayButton:!1,showWeekNumbers:!1,weekNumberRule:"auto",cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===Q.Z.real().deviceType&&!Q.Z.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return(0,u.l)(this.callBase(),{rightArrow:function(t){t.preventDefault(),(0,Z.j1)(t)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(t){t.preventDefault(),(0,Z.j1)(t)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(t){if(t.preventDefault(),(0,Z.j1)(t))this._navigateUp();else{if(X.Z.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(t){if(t.preventDefault(),(0,Z.j1)(t))this._navigateDown();else{if(X.Z.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(t){t.preventDefault();var e=this.option("zoomLevel"),i=this.option("currentDate"),n=this._dateOption("min");if(!this._view.isDateDisabled(i)){var a=I.Z.sameView(e,i,n)?n:I.Z.getViewFirstCellDate(e,i);this._moveToClosestAvailableDate(a)}},end:function(t){t.preventDefault();var e=this.option("zoomLevel"),i=this.option("currentDate"),n=this._dateOption("max");if(!this._view.isDateDisabled(i)){var a=I.Z.sameView(e,i,n)?n:I.Z.getViewLastCellDate(e,i);this._moveToClosestAvailableDate(a)}},pageUp:function(t){t.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(t){t.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:r.ZT,enter:function(t){if(this._isMaxZoomLevel()){if(!this._view.isDateDisabled(this.option("currentDate"))){var e=this._updateTimeComponent(this.option("currentDate"));this._dateValue(e,t)}}else this._navigateDown()}})},_getSerializationFormat:function(t){var e=this.option(t||"value");return this.option("dateSerializationFormat")?this.option("dateSerializationFormat"):(0,l.kE)(e)?"number":(0,l.HD)(e)?T.Z.getDateSerializationFormat(e):void 0},_convertToDate:function(t,e){return T.Z.deserializeDate(t)},_dateValue:function(t,e){if(e){if("keydown"===e.type){var i=this._view._getContouredCell().get(0);e.target=i}this._saveValueChangeEvent(e)}this._dateOption("value",t)},_dateOption:function(t,e){if(1===arguments.length)return this._convertToDate(this.option(t),t);var i=this._getSerializationFormat(t);this.option(t,T.Z.serializeDate(e,i))},_shiftDate:function(t,e,i,n){switch(t){case vt.MONTH:e.setDate(e.getDate()+i*n);break;case vt.YEAR:e.setMonth(e.getMonth()+i*n);break;case vt.DECADE:e.setFullYear(e.getFullYear()+i*n);break;case vt.CENTURY:e.setFullYear(e.getFullYear()+10*i*n)}},_moveCurrentDateByOffset:function(t){var e=this.option("currentDate"),i=new Date(e),n=this.option("zoomLevel");this._shiftDate(n,i,t,1);var a=this._getMaxDate(),s=this._getMinDate(),o=this._areDatesInNeighborView(n,i,e),r=(0,h.Z2)(i,s,a)&&o,l=new Date(i);while(r){if(!this._view.isDateDisabled(l)){i=l;break}this._shiftDate(n,l,t,1),o=this._areDatesInNeighborView(n,l,e),r=(0,h.Z2)(l,s,a)&&o}this._view.isDateDisabled(e)||this._view.isDateDisabled(i)?this._waitRenderView(t>0?1:-1):this.option("currentDate",i)},_areDatesInSameView(t,e,i){switch(t){case vt.MONTH:return e.getMonth()===i.getMonth();case vt.YEAR:return e.getYear()===i.getYear();case vt.DECADE:return parseInt(e.getYear()/10)===parseInt(i.getYear()/10);case vt.CENTURY:return parseInt(e.getYear()/100)===parseInt(i.getYear()/100)}},_areDatesInNeighborView(t,e,i){switch(t){case vt.MONTH:return n=e.getMonth(),a=i.getMonth(),s=Math.abs(n-a),Math.min(s,12-s)<=1;case vt.YEAR:return Math.abs(e.getYear()-i.getYear())<=1;case vt.DECADE:return Math.abs(e.getYear()-i.getYear())<=10;case vt.CENTURY:return Math.abs(e.getYear()-i.getYear())<=100}var n,a,s},_moveToClosestAvailableDate:function(){var t,e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("currentDate"),n=new Date(i),a=this.option("zoomLevel"),s=!this._isDateNotAvailable(n),o=s,r=s,l=new Date(n),h=new Date(n);do{if(o){n=l;break}if(r){n=h;break}this._shiftDate(a,l,1,1),this._shiftDate(a,h,1,-1),t=this._areDatesInSameView(a,l,i),e=this._areDatesInSameView(a,h,i),o=t&&!this._isDateNotAvailable(l),r=e&&!this._isDateNotAvailable(h)}while(t||e);this.option("currentDate",n)},_isDateNotAvailable:function(t){var e=this._getMaxDate(),i=this._getMinDate();return!(0,h.Z2)(t,i,e)||this._view.isDateDisabled(t)},_init:function(){this.callBase(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_correctZoomLevel:function(){var t=this.option("minZoomLevel"),e=this.option("maxZoomLevel"),i=this.option("zoomLevel");ft[e]<ft[t]||(ft[i]>ft[e]?this.option("zoomLevel",e):ft[i]<ft[t]&&this.option("zoomLevel",t))},_initCurrentDate:function(){var t=this._getNormalizedDate(this._dateOption("value"))||this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",t)},_getNormalizedDate:function(t){return t=I.Z.normalizeDate(t,this._getMinDate(),this._getMaxDate()),(0,l.$K)(t)?this._getDate(t):t},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new et.k((function(t){var e=t.model;(0,a.Z)(t.container).append((0,a.Z)("<span>").text(e&&e.text||String(e)))}))}),this.callBase()},_updateCurrentDate:function(t){X.Z.isAnimating(this._$viewsWrapper)&&X.Z.stop(this._$viewsWrapper,!0);var e=this._getMinDate(),i=this._getMaxDate();if(e>i)this.option("currentDate",new Date);else{var n=this._getNormalizedDate(t);if(t.getTime()===n.getTime()){var a=this._getViewsOffset(this._view.option("date"),n);0!==a&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(a=0),this._view&&0!==a&&!this._suppressNavigation?this._navigate(a,n):(this._renderNavigator(),this._setViewContoured(n),this._updateAriaId(n))}else this.option("currentDate",new Date(n))}},_setViewContoured:function(t){(this.option("skipFocusCheck")||gt(this._focusTarget()))&&this._view.option("contouredDate",t)},_getMinDate:function(){return this.min||(this.min=this._dateOption("min")||new Date(1e3,0)),this.min},_getMaxDate:function(){return this.max||(this.max=this._dateOption("max")||new Date(3e3,0)),this.max},_getViewsOffset:function(t,e){var i,n=this.option("zoomLevel");if(n===vt.MONTH)return this._getMonthsOffset(t,e);switch(n){case vt.CENTURY:i=100;break;case vt.DECADE:i=10;break;default:i=1}return parseInt(e.getFullYear()/i)-parseInt(t.getFullYear()/i)},_getMonthsOffset:function(t,e){var i=e.getFullYear()-t.getFullYear(),n=e.getMonth()-t.getMonth();return 12*i+n},_waitRenderView:function(t){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var e=this._getDateByOffset(t*this._getRtlCorrection());this._moveToClosestAvailableDate(e),this._waitRenderViewTimeout=setTimeout((()=>{this._alreadyViewRender=!1}))}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(t,e){var i;e=this._getDate(null!==(i=e)&&void 0!==i?i:this.option("currentDate"));var n=e.getDate(),a=I.Z.getDifferenceInMonth(this.option("zoomLevel"))*t;e.setDate(1),e.setMonth(e.getMonth()+a);var s=I.Z.getLastMonthDate(e).getDate();return e.setDate(n>s?s:n),e},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var t=this.$element();t.addClass(it),this._renderBody(),t.append(this.$body),this._renderViews(),this._renderNavigator(),t.append(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._updateAriaSelected(),this._updateAriaId(),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=(0,a.Z)("<div>").addClass(nt),this._$viewsWrapper=(0,a.Z)("<div>").addClass(lt),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass(ht+"-"+this.option("zoomLevel"));var t=this.option("currentDate");if(this._view=this._renderSpecificView(t),(0,tt.Ym)()){var e=this._getDateByOffset(-1,t);this._beforeView=this._isViewAvailable(e)?this._renderSpecificView(e):null;var i=this._getDateByOffset(1,t);i.setDate(1),this._afterView=this._isViewAvailable(i)?this._renderSpecificView(i):null}this._translateViews()},_renderSpecificView:function(t){var e=G[this.option("zoomLevel")],i=(0,a.Z)("<div>").appendTo(this._$viewsWrapper),n=this._viewConfig(t);return this._createComponent(i,e,n)},_viewConfig:function(t){var e,i=this.option("disabledDates");return i=(0,l.mf)(i)?this._injectComponent(i.bind(this)):i,{date:t,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:null!==(e=this.option("firstDayOfWeek"))&&void 0!==e?e:K.Z.firstDayOfWeekIndex(),showWeekNumbers:this.option("showWeekNumbers"),weekNumberRule:this.option("weekNumberRule"),zoomLevel:this.option("zoomLevel"),value:this._dateOption("value"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:i,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")}},_injectComponent:function(t){var e=this;return function(i){return(0,u.l)(i,{component:e}),t(i)}},_isViewAvailable:function(t){var e=this.option("zoomLevel"),i=I.Z.getViewMinBoundaryDate(e,this._getMinDate()),n=I.Z.getViewMaxBoundaryDate(e,this._getMaxDate());return I.Z.dateInRange(t,i,n)},_translateViews:function(){(0,J.pB)(this._view.$element(),{left:0,top:0}),this._beforeView&&(0,J.pB)(this._beforeView.$element(),{left:this._getViewPosition(-1),top:0}),this._afterView&&(0,J.pB)(this._afterView.$element(),{left:this._getViewPosition(1),top:0})},_getViewPosition:function(t){var e=this.option("rtlEnabled")?-1:1;return 100*t*e+"%"},_cellClickHandler:function(t){var e=this.option("zoomLevel"),i=I.Z.getViewDown(e),n=this._isMaxZoomLevel();if(i&&!n)this._navigateDown(t.event.currentTarget);else{var a=this._updateTimeComponent(t.value);this._dateValue(a,t.event),this._cellClickAction(t)}},_updateTimeComponent:function(t){var e=new Date(t),i=this._dateOption("value");return i&&(e.setHours(i.getHours()),e.setMinutes(i.getMinutes()),e.setSeconds(i.getSeconds()),e.setMilliseconds(i.getMilliseconds())),e},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(t){var e=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var i=I.Z.getViewDown(e);if(i){var n=this._view.option("contouredDate")||this._view.option("date");t&&(n=(0,a.Z)(t).data(mt)),this._isOtherViewCellClicked=!0,this.option("currentDate",n),this.option("zoomLevel",i),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new x((0,a.Z)("<div>"),this._navigatorConfig())),this._navigator.option("text",this._view.getNavigatorCaption()),this._updateButtonsVisibility()},_navigatorConfig:function(){return{text:this._view.getNavigatorCaption(),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:this.option("rtlEnabled")}},_navigatorClickHandler:function(t){var e=this._getDateByOffset(t.direction,this.option("currentDate"));this._moveToClosestAvailableDate(e)},_navigateUp:function(){var t=this.option("zoomLevel"),e=I.Z.getViewUp(t);e&&!this._isMinZoomLevel(t)&&(this.option("zoomLevel",e),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(t){var e=this._getMinDate(),i=this._getMaxDate();return I.Z.sameView(t,e,i)||this.option("minZoomLevel")===t},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!(0,l.$K)(this._getRequiredView("next"))),this._navigator.toggleButton("prev",!(0,l.$K)(this._getRequiredView("prev")))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),p.Z,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(t){X.Z.stop(this._$viewsWrapper,!0),t.event.maxLeftOffset=this._getRequiredView("next")?1:0,t.event.maxRightOffset=this._getRequiredView("prev")?1:0},_getRequiredView:function(t){var e,i=this.option("rtlEnabled");return"next"===t?e=i?this._beforeView:this._afterView:"prev"===t&&(e=i?this._afterView:this._beforeView),e},_swipeUpdateHandler:function(t){var e=t.event.offset;(0,J.pB)(this._$viewsWrapper,{left:e*this._viewWidth(),top:0}),this._updateNavigatorCaption(e)},_swipeEndHandler:function(t){var e=t.event.targetOffset,i=e?e/Math.abs(e):0;if(0!==i){var n=this._getDateByOffset(-i*this._getRtlCorrection());this._isDateInInvalidRange(n)&&(n=i>=0?new Date(this._getMinDate()):new Date(this._getMaxDate())),this.option("currentDate",n)}else this._animateWrapper(0,dt)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=(0,n.dz)(this.$element())),this._viewWidthValue},_updateNavigatorCaption:function(t){t*=this._getRtlCorrection();var e=this._view;t>.5&&this._beforeView?e=this._beforeView:t<-.5&&this._afterView&&(e=this._afterView),this._navigator.option("text",e.getNavigatorCaption())},_isDateInInvalidRange:function(t){if(!this._view.isBoundary(t)){var e=this._getMinDate(),i=this._getMaxDate(),n=I.Z.normalizeDate(t,e,i);return n===e||n===i}},_renderFooter:function(){var t=this.option("showTodayButton");if(t){var e=this._createComponent((0,a.Z)("<a>"),d["default"],{focusStateEnabled:!1,text:E.Z.format("dxCalendar-todayButtonText"),onClick:function(t){this._toTodayView(t)}.bind(this),integrationOptions:{}}).$element().addClass(ot);this._$footer=(0,a.Z)("<div>").addClass(st).append(e),this.$element().append(this._$footer)}this.$element().toggleClass(rt,t)},_renderSubmitElement:function(){this._$submitElement=(0,a.Z)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){var e=this._convertToDate(t);this._getSubmitElement().val(T.Z.serializeDate(e,_t))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){return X.Z.stop(this._view.$element(),!0),this._popAnimationView(this._view,ct,pt,dt).promise()},_popAnimationView:function(t,e,i,n){return X.Z.animate(t.$element(),{type:"pop",from:{scale:e,opacity:e},to:{scale:i,opacity:i},duration:n})},_navigate:function(t,e){if(0!==t&&1!==Math.abs(t)&&this._isViewAvailable(e)){var i=this._renderSpecificView(e);t>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=i):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=i),this._translateViews()}var n=this._getRtlCorrection(),a=t>0?1:t<0?-1:0,s=-n*a*this._viewWidth(),o=this._$viewsWrapper.position().left;o!==s&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(t,e):this._animateWrapper(s,dt).done(this._wrapperAnimationEndHandler.bind(this,t,e)))},_animateWrapper:function(t,e){return X.Z.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:t},duration:e})},_getDate:t=>new Date(t),_toTodayView:function(t){this._saveValueChangeEvent(t.event);var e=new Date;this._isMaxZoomLevel()?this._dateOption("value",e):(this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._dateOption("value",e),this._animateShowView(),this._preventViewChangeAnimation=!1)},_wrapperAnimationEndHandler:function(t,e){this._rearrangeViews(t),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(e),this._updateAriaId(e)},_rearrangeViews:function(t){var e,i,n;if(0!==t&&(t<0?(e=1,i="_beforeView",n="_afterView"):(e=-1,i="_afterView",n="_beforeView"),this[i])){var a=this[i].option("date");this[n]&&this[n].$element().remove(),t===e?this[n]=this._view:(this[n]=this._renderSpecificView(this._getDateByOffset(e,a)),this._view.$element().remove()),this._view=this[i];var s=this._getDateByOffset(-e,a);this[i]=this._isViewAvailable(s)?this._renderSpecificView(s):null}},_resetLocation:function(){(0,J.pB)(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._beforeView,delete this._afterView},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",this.option("currentDate"))},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",null)},_updateViewsValue:function(t){var e=t?new Date(t):null;this._view.option("value",e),this._beforeView&&this._beforeView.option("value",e),this._afterView&&this._afterView.option("value",e)},_updateAriaSelected:function(t,e){var i;t=null!==(i=t)&&void 0!==i?i:this._dateOption("value");var n=this._view._getCellByDate(e),a=this._view._getCellByDate(t);this.setAria("selected",void 0,n),this.setAria("selected",!0,a),t&&this.option("currentDate").getTime()===t.getTime()&&this._updateAriaId(t)},_updateAriaId:function(t){var e;t=null!==(e=t)&&void 0!==e?e:this.option("currentDate");var i="dx-"+new s.Z,n=this._view._getCellByDate(t);this.setAria("id",i,n),this.setAria("activedescendant",i),this._onContouredChanged(i)},_suppressingNavigation:function(t,e){this._suppressNavigation=!0,t.apply(this,e),delete this._suppressNavigation},_optionChanged:function(t){var e=t.value,i=t.previousValue;switch(t.name){case"width":this.callBase(t),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(i)),this._updateCurrentDate(e);break;case"zoomLevel":this.$element().removeClass(ht+"-"+i),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":e=this._convertToDate(e),i=this._convertToDate(i),this._updateAriaSelected(e,i),this.option("currentDate",(0,l.$K)(e)?new Date(e):new Date),this._updateViewsValue(e),this._setSubmitValue(e),this.callBase(t);break;case"onCellClick":this._view.option("onCellClick",e);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":case"showWeekNumbers":case"weekNumberRule":this._refreshViews();break;default:this.callBase(t)}},getContouredDate:function(){return this._view.option("contouredDate")}});(0,o.Z)("dxCalendar",Ct);var Dt=Ct,yt=Dt},3718:function(t,e,i){i.r(e),i.d(e,{default:function(){return De}});var n=i(70732),a=(i(92087),i(84518)),s=i(9783),o=i(66969),r=i(72602),l=i(27773),h=i(66487),u=i(47539),d=i(84392),c=t=>t.getMonth()+1,p=(t,e)=>{var i=t.getDate(),n=g("M",t),a=(0,l.n$)(parseInt(e),n.min,n.max);t.setMonth(a-1,1);var{min:s,max:o}=g("dM",t),r=(0,l.n$)(i,s,o);t.setDate(r)},_={a:t=>t.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:c,L:c,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},m=(0,r.l)({},(0,u.xe)(),{a:(t,e)=>{var i=t.getHours(),n=i>=12;n!==!!parseInt(e)&&t.setHours((i+12)%24)},d:(t,e)=>{var i=g("dM",t).max;e>i&&t.setMonth(t.getMonth()+1),t.setDate(e)},h:(t,e)=>{var i=t.getHours()>=12;t.setHours(+e%12+(i?12:0))},M:p,L:p,E:(t,e)=>{e<0||t.setDate(t.getDate()-t.getDay()+parseInt(e))},y:(t,e)=>{var i=t.getFullYear(),n=String(e).length,a=String(g("y",t).max).length,s=parseInt(String(i).substr(0,a-n)+e);t.setFullYear(s)}}),f=t=>_[t]||(()=>t),v=(t,e)=>{for(var i=e.regexp.exec(t),n=0,a=0,s=[],o=function(t){n=a,a=n+i[t].length;var o=e.patterns[t-1].replace(/^'|'$/g,""),r=f(o[0]);s.push({index:t-1,isStub:o===i[t],caret:{start:n,end:a},pattern:o,text:i[t],limits:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return g(o[0],...e)},setter:m[o[0]]||d.ZT,getter:r})},r=1;r<i.length;r++)o(r);return s},g=(t,e,i)=>{var n={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:23},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return n[i||t]||n.getAmPm},C=(t,e)=>{for(var i=0;i<t.length;i++){var n=t[i].caret.end>=e;if(!t[i].isStub&&n)return i}return null},D=i(93140),y=i(79715),w=i(56901),x=i(12145),b=i(94255),V=i(26256),S=i(74962),B=i(14221),I=i(60621),T=i(28995),E=["year","day","month","day"],Z=["hours","minutes","seconds","milliseconds"],k=6e4,M=60*k*24,O=365*M,A=function(t){var e=typeof t;return"string"===e?"format":"object"===e&&void 0!==t.type?t.type:null},P={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:k,ONE_DAY:M,ONE_YEAR:O,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var t=new Date;return new Date(t.getFullYear()+50,t.getMonth(),t.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:E},time:{getStandardPattern:function(){return"HH:mm"},components:Z},datetime:{getStandardPattern:function(){var t;return function(){var e=(0,I.Z)("<input>").attr("type","datetime");e.val("2000-01-01T01:01Z"),e.val()&&(t="yyyy-MM-ddTHH:mmZ")}(),t||(t="yyyy-MM-ddTHH:mm:ssZ"),P.FORMATS_INFO.datetime.getStandardPattern=function(){return t},t},components:[...E,...Z]},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[...E,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(t,e){var i=P.FORMATS_INFO[e].getStandardPattern();return T.Z.serializeDate(t,i)},fromStandardDateFormat:function(t){var e=T.Z.dateParser(t);return(0,s.J_)(e)?e:void 0},getMaxMonthDay:function(t,e){return new Date(t,e+1,0).getDate()},mergeDates:function(t,e,i){if(!e)return e||null;if(!t||isNaN(t.getTime())){var n=new Date(null);t=new Date(n.getFullYear(),n.getMonth(),n.getDate())}var a=new Date(t.valueOf()),s=P.FORMATS_INFO[i];return(0,x.S6)(s.components,(function(){var t=P.DATE_COMPONENTS_INFO[this];a[t.setter](e[t.getter]())})),a},getLongestCaptionIndex:function(t){var e,i=0,n=0;for(e=0;e<t.length;++e)t[e].length>n&&(i=e,n=t[e].length);return i},formatUsesMonthName:function(t){return D.Z.formatUsesMonthName(t)},formatUsesDayName:function(t){return D.Z.formatUsesDayName(t)},getLongestDate:function(t,e,i){var n=A(t),a=9;n&&!P.formatUsesMonthName(n)||(a=P.getLongestCaptionIndex(e));var s=new Date(1888,a,21,23,59,59,999);if(!n||P.formatUsesDayName(n)){var o=s.getDate()-s.getDay()+P.getLongestCaptionIndex(i);s.setDate(o)}return s},normalizeTime:function(t){t.setSeconds(0),t.setMilliseconds(0)}};P.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(t,e){var i=new Date(e.getTime());return i.setFullYear(t),D.Z.format(i,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(t,e){var i=new Date(e.getTime());return i.setDate(t),D.Z.format(i,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(t){return D.Z.getMonthNames()[t]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(t){return D.Z.format(new Date(0,0,0,t),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(t){return D.Z.format(new Date(0,0,0,0,t),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(t){return D.Z.format(new Date(0,0,0,0,0,t),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(t){return D.Z.format(new Date(0,0,0,0,0,0,t),"millisecond")},startValue:0,endValue:999}};var F=P,H=i(76397),N=i(19231),$=i(50217),L=i(94830),R=L.Z.abstract,z=L.Z.inherit({ctor:function(t){this.dateBox=t},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(t){t=t||(0,I.Z)("<div>"),this._widget=this._createWidget(t),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(t){var e=this._getWidgetName(),i=this._getWidgetOptions();return this.dateBox._createComponent(t,e,i)},_getWidgetOptions:R,_getWidgetName:R,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:R,supportedKeys:d.ZT,getKeyboardListener:d.ZT,customizeButtons:d.ZT,getParsedText:function(t,e){var i=D.Z.parse(t,e);return i||D.Z.parse(t)},renderInputMinMax:d.ZT,renderOpenedState:function(){this._updateValue()},popupConfig:R,_dimensionChanged:function(){var t;null===(t=this._getPopup())||void 0===t||t.repaint()},renderPopupContent:function(){var t=this._getPopup();this._renderWidget();var e=t.$content().parent();h.Z.off(e,"mousedown"),h.Z.on(e,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:d.ZT,getLastPopupElement:d.ZT,_preventFocusOnPopup:function(t){t.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:d.ZT,popupHiddenHandler:d.ZT,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:d.ZT,getDefaultDate:function(){return new Date},textChangedHandler:d.ZT,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var t=this._getPopup();t&&t.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}),W=z,K=W.inherit({NAME:"Calendar",getDefaultOptions:function(){return(0,r.l)(this.callBase(),{todayButtonText:N.Z.format("dxCalendar-todayButtonText")})},supportedKeys:function(){var t=function(t){return!!this.option("opened")&&(t.preventDefault(),!0)};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:function(t){if(this.dateBox.option("opened")){if(t.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var e=this._getContouredValue(),i=this._lastActionElement,n=this._closeDropDownByEnter();return n&&e&&"calendar"===i&&this.dateBoxValue(e,t),n&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(t),!n}return!0}this.dateBox._valueChangeEventHandler(t)}.bind(this),home:t,end:t}},getDisplayFormat:function(t){return t||"shortdate"},_closeDropDownByEnter:()=>!0,_getWidgetName:function(){return $["default"]},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener(){return this._widget},_getWidgetOptions:function(){var t=this.dateBox.option("disabledDates");return(0,r.l)(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:(0,s.mf)(t)?this._injectComponent(t.bind(this.dateBox)):t,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(t){var e=this;return function(i){return(0,r.l)(i,{component:e.dateBox}),t(i)}},_refreshActiveDescendant:function(t){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",t.actionValue)},_getTodayButtonConfig(){var t=this.dateBox.option("buttonsLocation"),e="default"===t,i=e?["bottom","center"]:(0,d.Um)(t);return{widget:"dxButton",toolbar:i[0],location:"after"===i[1]?"before":i[1],options:{onInitialized:function(t){t.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}.bind(this),onClick:t=>{this._widget._toTodayView(t)},text:this.dateBox.option("todayButtonText"),type:"today"}}},_isCalendarVisible:function(){var{calendarOptions:t}=this.dateBox.option();return(0,s.Qr)(t)||!1!==t.visible},_getPopupToolbarItems(t){var e="useButtons"===this.dateBox.option("applyValueMode"),i=e&&this._isCalendarVisible();if(i){var n=this._getTodayButtonConfig();return[n,...t]}return t},popupConfig:function(t){return(0,r.l)(!0,t,{position:{collision:"flipfit flip"},width:"auto"})},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(t){var e=t.value,i=t.previousValue;B.Z.sameDate(e,i)&&B.Z.sameHoursAndMinutes(e,i)||"instantly"===this.dateBox.option("applyValueMode")&&this.dateBoxValue(this.getValue(),t.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(t){var e=this.dateBox;"instantly"===e.option("applyValueMode")&&(e.option("opened",!1),this.dateBoxValue(this.getValue(),t.event))}}),Y=K,U=i(63865),q=i(79264),j=i(36879),G=i(67703),J=i(11572),Q=i(95328),X=i(32254);function tt(t,e){if((0,s.PO)(t)){var i=(0,d.IS)(t.left,t.x),n=(0,d.IS)(t.top,t.y);return{left:(0,s.$K)(i)?i:void 0,top:(0,s.$K)(n)?n:void 0}}var{isHorizontal:a,isVertical:o}=new X.I(e);return{left:a&&(0,s.$K)(t)?t:void 0,top:o&&(0,s.$K)(t)?t:void 0}}var et="dx-dateviewroller",it="dx-state-active",nt="dx-dateviewroller-current",at="dx-dateview-item",st="dx-dateview-item-selected",ot="dx-dateview-item-selected-frame",rt="dx-dateview-item-selected-border";class lt extends G.Z{_getDefaultOptions(){return(0,r.l)(super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass(et),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){h.Z.on((0,I.Z)(this.container()),"dxmousewheel",(t=>{this._isWheelScrolled=!0}))}_renderContainerClick(){if(this.option("showOnClick")){var t=(0,a.V4)(j.u,this.NAME),e=this._createActionByOption("onClick");h.Z.off((0,I.Z)(this.container()),t),h.Z.on((0,I.Z)(this.container()),t,(function(t){e({event:t})}))}}_renderItems(){var t=this.option("items")||[],e=(0,I.Z)();(0,I.Z)(this.content()).empty(),t.forEach((function(t){e=e.add((0,I.Z)("<div>").addClass(at).append(t))})),(0,I.Z)(this.content()).append(e),this._$items=e,this.update()}_renderSelectedItemFrame(){(0,I.Z)("<div>").addClass(ot).append((0,I.Z)("<div>").addClass(rt)).appendTo((0,I.Z)(this.container()))}_renderSelectedValue(t){var e=this._fitIndex(null!==t&&void 0!==t?t:this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(e)}),this._renderActiveStateItem()}_fitIndex(t){var e=this.option("items")||[],i=e.length;return t>=i?i-1:t<0?0:t}_getItemPosition(t){return Math.round(this._itemHeight()*t)}_renderItemsClick(){var t=this._getItemSelector(),e=(0,a.V4)(j.u,this.NAME);h.Z.off(this.$element(),e,t),h.Z.on(this.$element(),e,t,this._itemClickHandler.bind(this))}_getItemSelector(){return"."+at}_itemClickHandler(t){this.option("selectedIndex",this._itemElementIndex(t.currentTarget))}_itemElementIndex(t){return this._itemElements().index(t)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){var t=this.option("selectedIndex");(0,x.S6)(this._$items,(function(e){(0,I.Z)(this).toggleClass(st,t===e)}))}_shouldScrollToNeighborItem(){return"desktop"===V.Z.real().deviceType&&this._isWheelScrolled}_moveTo(t){var{top:e,left:i}=tt(t),n=this.scrollOffset(),a={x:n.left-i,y:n.top-e};if(this._isVisible()&&(a.x||a.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var s=this;J.Z.stop((0,I.Z)(this.content())),J.Z.animate((0,I.Z)(this.content()),{duration:200,type:"slide",to:{top:Math.floor(a.y)},complete(){(0,Q.Kx)((0,I.Z)(s.content())),s.handleMove({delta:a})}}),delete this._animation}else this.handleMove({delta:a})}_validate(t){return this._moveIsAllowed(t)}_fitSelectedIndexInRange(t){var e=this.option("items").length;return Math.max(Math.min(t,e-1),0)}_isInNullNeighborhood(t){return-.1<=t&&t<=.1}_getSelectedIndexAfterScroll(t){var e=this.scrollOffset().top,i=t*this._itemHeight(),n=e-i;if(this._isInNullNeighborhood(n))return t;var a=n>0?1:-1,s=this._fitSelectedIndexInRange(t+a);return s}_getNewSelectedIndex(t){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(t);this._animation=!0;var e=this.scrollOffset().top/this._itemHeight();return Math.round(e)}_endActionHandler(){var t=this.option("selectedIndex"),e=this._getNewSelectedIndex(t);e===t?this._renderSelectedValue(e):this.option("selectedIndex",e),this._isWheelScrolled=!1}_itemHeight(){var t=this._$items.first();return(0,q.Cr)(t)}_toggleActive(t){this.$element().toggleClass(it,t)}_isVisible(){return(0,I.Z)(this.container()).is(":visible")}_fireSelectedIndexChanged(t,e){this._selectedIndexChanged({value:t,previousValue:e,event:void 0})}_visibilityChanged(t){super._visibilityChanged(t),this._visibilityChangedHandler(t)}_visibilityChangedHandler(t){t&&(this._visibilityTimer=setTimeout((()=>{this._renderSelectedValue(this.option("selectedIndex"))}))),this.toggleActiveState(!1)}toggleActiveState(t){this.$element().toggleClass(nt,t)}_refreshSelectedIndex(){var t=this.option("selectedIndex"),e=this._fitIndex(t);e===t?this._renderActiveStateItem():this.option("selectedIndex",e)}_optionChanged(t){switch(t.name){case"selectedIndex":this._fireSelectedIndexChanged(t.value,t.previousValue),this._renderSelectedValue(t.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(t)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}}(0,n.Z)("dxDateViewRoller",lt);var ht=lt,ut="dx-dateview",dt="dx-dateview-compact",ct="dx-dateview-wrapper",pt="dx-dateview-rollers",_t="dx-dateviewroller",mt={date:"date",datetime:"datetime",time:"time"},ft={year:"year",month:"month",day:"day",hours:"hours"},vt=U.Z.inherit({_valueOption:function(){var t=this.option("value"),e=new Date(t);return!t||isNaN(e)?this._getDefaultDate():e},_getDefaultDate:function(){var t=new Date;return this.option("type")===mt.date?new Date(t.getFullYear(),t.getMonth(),t.getDate()):t},_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{minDate:F.MIN_DATEVIEW_DEFAULT_DATE,maxDate:F.MAX_DATEVIEW_DEFAULT_DATE,type:mt.date,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return"desktop"!==t.deviceType},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(ut),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(t,e){this.$element().addClass(ut+"-"+t),e&&this.$element().removeClass(ut+"-"+e)},_toggleCompactClass:function(){this.$element().toggleClass(dt,this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=(0,I.Z)("<div>").addClass(ct),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=(0,I.Z)("<div>").addClass(pt)),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var t=this;(0,x.S6)(t._rollerConfigs,(function(e){var i=(0,I.Z)("<div>").appendTo(t._$rollersContainer).addClass(_t+"-"+t._rollerConfigs[e].type);t._rollers[t._rollerConfigs[e].type]=t._createComponent(i,ht,{items:t._rollerConfigs[e].displayItems,selectedIndex:t._rollerConfigs[e].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(i){var n=i.component;n._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],n.option("selectedIndex"))},onEnd:function(t){var e=t.component;e._toggleActive(!1)},onClick:function(i){var n=i.component;n._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],n.option("selectedIndex")),t._setRollerState(t._rollerConfigs[e],n.option("selectedIndex")),n._toggleActive(!1)},onSelectedIndexChanged:function(i){var n=i.component;t._setRollerState(t._rollerConfigs[e],n.option("selectedIndex"))}})})),t._$rollersContainer.appendTo(t._wrapper())},_createRollerConfigs:function(t){var e=this;t=t||e.option("type"),e._rollerConfigs={},D.Z.getFormatParts(F.FORMATS_MAP[t]).forEach((function(t){e._createRollerConfig(t)}))},_createRollerConfig:function(t){for(var e=F.DATE_COMPONENTS_INFO[t],i=this._calculateRollerConfigValueRange(t),n=i.startValue,a=i.endValue,s=e.formatter,o=this._getCurrentDate(),r={type:t,setValue:e.setter,valueItems:[],displayItems:[],getIndex:function(t){return t[e.getter]()-n}},l=n;l<=a;l++)r.valueItems.push(l),r.displayItems.push(s(l,o));r.selectedIndex=r.getIndex(o),this._rollerConfigs[t]=r},_setActiveRoller:function(t){var e=t&&this._rollers[t.type];(0,x.S6)(this._rollers,(function(){this.toggleActiveState(this===e)}))},_updateRollersPosition:function(){var t=this;(0,x.S6)(this._rollers,(function(e){var i=t._rollerConfigs[e].getIndex(t._getCurrentDate());this.option("selectedIndex",i)}))},_setRollerState:function(t,e){if(e!==t.selectedIndex){var i=t.valueItems[e],n=t.setValue,a=new Date(this._getCurrentDate()),s=a.getDate(),o=this.option("minDate"),r=this.option("maxDate");t.type===ft.month?s=Math.min(s,F.getMaxMonthDay(a.getFullYear(),i)):t.type===ft.year&&(s=Math.min(s,F.getMaxMonthDay(i,a.getMonth()))),a.setDate(s),a[n](i);var l=B.Z.normalizeDate(a,o,r);a=F.mergeDates(l,a,"time"),a=B.Z.normalizeDate(a,o,r),this.option("value",a),t.selectedIndex=e}t.type===ft.year&&this._refreshRollers(),t.type===ft.month&&(this._refreshRoller(ft.day),this._refreshRoller(ft.hours))},_refreshRoller:function(t){var e=this._rollers[t];if(e){this._createRollerConfig(t);var i=this._rollerConfigs[t];t!==ft.day&&i.displayItems.toString()===e.option("items").toString()||e.option({items:i.displayItems,selectedIndex:i.selectedIndex})}},_getCurrentDate:function(){var t=this._valueOption(),e=this.option("minDate"),i=this.option("maxDate");return B.Z.normalizeDate(t,e,i)},_calculateRollerConfigValueRange:function(t){var e=this._getCurrentDate(),i=this.option("minDate"),n=this.option("maxDate"),a=B.Z.sameYear(e,i),s=a&&e.getMonth()===i.getMonth(),o=B.Z.sameYear(e,n),r=o&&e.getMonth()===n.getMonth(),l=s&&e.getDate()===i.getDate(),h=r&&e.getDate()===n.getDate(),u=F.DATE_COMPONENTS_INFO[t],d=u.startValue,c=u.endValue;return t===ft.year&&(d=i.getFullYear(),c=n.getFullYear()),t===ft.month&&(a&&(d=i.getMonth()),o&&(c=n.getMonth())),t===ft.day&&(c=F.getMaxMonthDay(e.getFullYear(),e.getMonth()),a&&s&&(d=i.getDate()),o&&r&&(c=n.getDate())),t===ft.hours&&(d=l?i.getHours():d,c=h?n.getHours():c),{startValue:d,endValue:c}},_refreshRollers:function(){this._refreshRoller(ft.month),this._refreshRoller(ft.day),this._refreshRoller(ft.hours)},_optionChanged:function(t){switch(t.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(t.value,t.previousValue);break;case"visible":this.callBase(t),t.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(t)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});(0,n.Z)("dxDateView",vt);var gt=vt,Ct=(0,w.Jj)(),Dt=W.inherit({NAME:"DateView",getDefaultOptions:function(){return(0,r.l)(this.callBase(),{openOnFieldClick:!0,applyButtonText:N.Z.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(t){return t||F.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(t){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:t.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(t){var e=t.platform;return"generic"===e||"ios"===e},options:{width:"auto",height:"auto"}},{device:function(t){var e=t.platform,i=t.phone;return"generic"===e&&i},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:Ct}}}]}},_renderWidget:function(){if((0,b.inputType)(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly"))this._widget&&(this._widget.$element().remove(),this._widget=null);else{var t=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var e=(0,I.Z)("<div>").appendTo(t.$content());this._widget=this._createWidget(e)}this._widget.$element().appendTo(this._getWidgetContainer())}},_getWidgetName:function(){return gt},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*F.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}}),yt=Dt,wt=W.inherit({NAME:"Native",popupConfig:function(t){return(0,r.l)({},t,{width:"auto"})},getParsedText:function(t){return t?"datetime"===this.dateBox.option("type")?new Date(t.replace(/-/g,"/").replace("T"," ").split(".")[0]):F.fromStandardDateFormat(t):null},renderPopupContent:d.ZT,_getWidgetName:d.ZT,_getWidgetOptions:d.ZT,_getDateBoxType:function(){var t=this.dateBox.option("type");return F.SUPPORTED_FORMATS.includes(t)?"datetime"!==t||(0,b.inputType)(t)||(t="datetime-local"):t="date",t},customizeButtons:function(){var t=this.dateBox.getButton("dropDown");V.Z.real().android&&t&&t.on("click",function(){this.dateBox._input().get(0).click()}.bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(t){var e=this._getDateBoxType();return t||F.FORMATS_MAP[e]},renderInputMinMax:function(t){t.attr({min:T.Z.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:T.Z.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}}),xt=wt,bt=i(85787),Vt=i(81089),St=i(81305),Bt="dx-timeview",It="dx-timeview-clock",Tt="dx-timeview-field",Et="dx-timeview-hourarrow",Zt="dx-timeview-time-separator",kt="dx-timeview-format12",Mt=-1,Ot=1,At="dx-timeview-minutearrow",Pt=function(t,e,i){Ft(t,e,i)},Ft=function(t,e,i){t.css("transform","rotate("+e+"deg) translate(0,"+i+"px)")},Ht=U.Z.inherit({_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass(Bt)},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var t=(0,I.Z)("<div>").appendTo(this.$element()),e=[];this.option("_showClock")&&e.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),e.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(t,St["default"],{height:"100%",width:"100%",direction:"col",items:e})},_renderClock:function(t,e,i){this._$hourArrow=(0,I.Z)("<div>").addClass(Et),this._$minuteArrow=(0,I.Z)("<div>").addClass(At);var n=(0,I.Z)(i);n.addClass(It).append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",n)},_updateClock:function(){var t=this._getValue(),e=t.getHours()/12*360+t.getMinutes()/60*30,i=t.getMinutes()/60*360;Pt(this._$hourArrow,e,this.option("_arrowOffset")),Pt(this._$minuteArrow,i,this.option("_arrowOffset"))},_getBoxItems:function(t){var e=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:(0,I.Z)("<div>").addClass(Zt).text(D.Z.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return t&&e.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),e},_renderField:function(){var t=!this.option("use24HourFormat");return this._createHourBox(t),this._createMinuteBox(),t&&this._createFormat12Box(),this._createComponent((0,I.Z)("<div>").addClass(Tt),St["default"],{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(t)}).$element()},_createHourBox:function(t){var e=this._hourBox=this._createComponent((0,I.Z)("<div>"),bt["default"],(0,r.l)({min:-1,max:t?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:t=>this._keyboardHandler(t)},this._getNumberBoxConfig()));e.setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&1===this._format12.option("value")},_onHourBoxValueChanged:function(t){var{value:e,component:i}=t,n=this._getValue(),a=new Date(n),s=this._convertMaxHourToMin(e);i.option("value",s),this._isPM()&&(s+=12),a.setHours(s),F.normalizeTime(a),this.option("value",a)},_convertMaxHourToMin:function(t){var e=this.option("use24HourFormat")?24:12;return(e+t)%e},_createMinuteBox:function(){var t=this._minuteBox=this._createComponent((0,I.Z)("<div>"),bt["default"],(0,r.l)({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:t=>this._keyboardHandler(t),onValueChanged:t=>{var{value:e,component:i}=t,n=(60+e)%60;i.option("value",n);var a=new Date(this._getValue());a.setMinutes(n),F.normalizeTime(a),this.option("value",a)}},this._getNumberBoxConfig()));t.setAria("label","minutes")},_createFormat12Box:function(){var t=D.Z.getPeriodNames(),e=this._format12=this._createComponent((0,I.Z)("<div>").addClass(kt),Vt["default"],{items:[{value:Mt,text:t[0]},{value:Ot,text:t[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:t=>this._keyboardHandler(t),onValueChanged:t=>{var{value:e}=t,i=this._getValue().getHours(),n=new Date(this._getValue()),a=(i+12*e)%24;n.setHours(a),this.option("value",n)},value:this._getValue().getHours()>=12?Ot:Mt,stylingMode:this.option("stylingMode")});e.setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var t=this._getValue(),e=t.getHours(),i=e>=12,n=i?Ot:Mt;this._silentEditorValueUpdate(this._format12,n)}},_silentEditorValueUpdate:function(t,e){t&&(t._suppressValueChangeAction(),t.option("value",e),t._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(t){return(t<10?"0":"")+t},stylingMode:this.option("stylingMode")}},_normalizeHours:function(t){return this.option("use24HourFormat")?t:t%12||12},_updateField:function(){var t=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,t),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(t){t&&this._updateTime()},_optionChanged:function(t){switch(t.name){case"value":this._updateTime(),this.callBase(t);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(t)}}});(0,n.Z)("dxTimeView",Ht);var Nt=Ht,$t=(0,w.Jj)(),Lt=573,Rt="dx-datebox-adaptivity-mode",zt="dx-datebox-datetime-time-side",Wt=Y.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return(0,r.l)(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return B.Z.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(t){return t||"shortdateshorttime"},_is24HourFormat:function(){return D.Z.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var t=this.callBase();return this._updateDateTime(t)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent((0,I.Z)("<div>"),Nt,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var t=this._getPopup();t&&t.$wrapper().toggleClass(Rt,this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(function(){this._getPopup()&&this._getPopup().repaint()}.bind(this),0)},isAdaptivityChanged:function(){var t=this._isShrinkView(),e=this._currentAdaptiveMode;return t!==e?(this._currentAdaptiveMode=t,void 0!==e):this.callBase()},_updateValue:function(t){var e=this.dateBoxValue();e||t||(e=new Date,F.normalizeTime(e)),this.callBase(),this._timeView&&(e&&this._timeView.option("value",e),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return(0,q.dz)($t)<=Lt},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var t=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||t.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),t},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var t=this._getPopup().$content();this._box=this.dateBox._createComponent((0,I.Z)("<div>").appendTo(t),St["default"],{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:function(t,e,i){var n=(0,I.Z)("<div>");switch(t.name){case"calendar":n.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(zt),n.append(this._timeView.$element()));break;case"time":n.append(this._timeView.$element()),(0,I.Z)(i).addClass(zt)}return n}.bind(this)}),this._attachTabHandler()},popupConfig:function(t){var e=this.callBase(t);return(0,r.l)(e,{width:"auto"})},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var t=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",(function(e){e.shiftKey&&(e.preventDefault(),t.focus())}))},_preventFocusOnPopup:function(t){(0,I.Z)(t.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(t){var e=this._timeView.option("value");return t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t},getValue:function(){var t,e=null!==(t=this._widget.option("value"))&&void 0!==t?t:this._widget.getContouredDate();return e=e?new Date(e):new Date,this._updateDateTime(e)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}}),Kt=Wt,Yt=i(95392),Ut=(i(56043),i(57361)),qt=(0,w.Jj)(),jt="date",Gt={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},Jt=W.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){var{opened:t,applyValueMode:e}=this.option();t&&"instantly"===e&&this.close()},space:d.ZT,home:d.ZT,end:d.ZT}},getDefaultOptions:function(){return(0,r.l)(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(t){return t||"shorttime"},popupConfig:function(t){return t},getValue:function(){var t=this._widget.option("selectedIndex");if(-1===t)return this.dateBox.option("value");var e=this._widgetItems[t];return this._getDateByItemData(e)},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return Yt.Z},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(t){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",t.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var t=this.dateBoxValue(),e=this._getDateIndex(t);-1===e?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",e)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(t){for(var e=-1,i=0,n=this._widgetItems.length;i<n;i++)if(this._areDatesEqual(t,this._widgetItems[i])){e=i;break}return e},_areDatesEqual:function(t,e){return(0,s.J_)(t)&&(0,s.J_)(e)&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()},_getTimeListItems:function(){var t=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),e=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),i=this.dateBox.dateOption("value")||null,n=e-t,a=t.getMinutes()%this.dateBox.option("interval");return n<0?[]:(n>F.ONE_DAY&&(n=F.ONE_DAY),i-t<F.ONE_DAY||(t=this._getBoundaryDate("min"),t.setMinutes(a),i&&Math.abs(i-e)<F.ONE_DAY&&(n=(60*e.getHours()+Math.abs(e.getMinutes()-a))*F.ONE_MINUTE)),this._getRangeItems(t,new Date(t),n))},_getRangeItems:function(t,e,i){var n=[],a=this.dateBox.option("interval");while(e-t<=i)n.push(new Date(e)),e.setMinutes(e.getMinutes()+a);return n},_getBoundaryDate:function(t){var e=Gt[t],i=new Date((0,d.IS)(this.dateBox.dateOption("value"),0));return new Date(i.getFullYear(),i.getMonth(),i.getDate(),e.getHours(),e.getMinutes())},_timeListItemTemplate:function(t){var e=this.dateBox.option("displayFormat");return D.Z.format(t,this.getDisplayFormat(e))},_listItemClickHandler:function(t){if("useButtons"!==this.dateBox.option("applyValueMode")){var e=this._getDateByItemData(t.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(e,t.event)}},_getDateByItemData:function(t){var e=this.dateBox.option("value"),i=t.getHours(),n=t.getMinutes(),a=t.getSeconds(),s=t.getFullYear(),o=t.getMonth(),r=t.getDate();return e?(e=this.dateBox.option("dateSerializationFormat")?T.Z.deserializeDate(e):new Date(e),e.setHours(i),e.setMinutes(n),e.setSeconds(a),e.setFullYear(s),e.setMonth(o),e.setDate(r)):e=new Date(s,o,r,i,n,0,0),e},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var t=(0,Ut.T)(this.dateBox.option("dropDownOptions.height"));if(void 0===t||"auto"===t){this.dateBox._setPopupOption("height","auto");var e=(0,q.zp)(this._widget.$element()),i=.45*(0,q.Cr)(qt);this.dateBox._setPopupOption("height",Math.min(e,i))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(t,e){var i=this.callBase(t,e);return i&&(i=F.mergeDates(i,new Date(null),jt)),i}}),Qt=Jt,Xt=(0,w.Jj)(),te="dx-datebox",ee="dx-auto-width",ie="dx-show-invalid-badge",ne="dx-clear-button-area",ae="dx-datebox-wrapper",se="dx-dropdowneditor-overlay",oe={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},re={date:"date",datetime:"datetime",time:"time"},le={calendar:"Calendar",dateView:"DateView",native:"Native",calendarWithTime:"CalendarWithTime",list:"List"},he={Calendar:Y,DateView:yt,Native:xt,CalendarWithTime:Kt,List:Qt},ue=H.Z.inherit({_supportedKeys:function(){return(0,r.l)(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:oe.calendar,invalidDateMessage:N.Z.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:N.Z.format("validation-range"),applyButtonText:N.Z.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var t=V.Z.real(),e=t.platform;return"ios"===e||"android"===e},options:{pickerType:oe.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(t){this._userOptions=(0,r.l)({},t),this.callBase(t),this._updatePickerOptions()},_updatePickerOptions:function(){var t=this.option("pickerType"),e=this.option("type");t!==oe.list||e!==re.datetime&&e!==re.date||(t=oe.calendar),e===re.time&&t===oe.calendar&&(t=oe.list),this.option("showDropDownButton","generic"!==V.Z.real().platform||t!==oe.native),this._pickerType=t},_init:function(){this._initStrategy(),this.option((0,r.l)({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},_initStrategy:function(){var t=this._getStrategyName(this._getFormatType()),e=he[t];this._strategy&&this._strategy.NAME===t||(this._strategy=new e(this))},_getFormatType:function(){var t=this.option("type"),e=/h|m|s/g.test(t),i=/d|M|Y/g.test(t),n="";return i&&(n+=re.date),e&&(n+=re.time),n},_getStrategyName:function(t){var e=this._pickerType;return e===oe.rollers?le.dateView:e===oe.native?le.native:t===re.date?le.calendar:t===re.datetime?le.calendarWithTime:le.list},_initMarkup:function(){this.$element().addClass(te),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass(ee,!this.option("width")),this._dimensionChanged()},_dimensionChanged:function(){var t,e;(this.callBase(arguments),this._popup)&&(null===(t=(e=this._strategy)._updatePopupHeight)||void 0===t||t.call(e))},_refreshFormatClass:function(){var t=this.$element();(0,x.S6)(re,(function(e,i){t.removeClass(te+"-"+i)})),t.addClass(te+"-"+this.option("type"))},_refreshPickerTypeClass:function(){var t=this.$element();(0,x.S6)(oe,(function(e,i){t.removeClass(te+"-"+i)})),t.addClass(te+"-"+this._pickerType)},_formatValidationIcon:function(){if((0,w.Ym)()){var t=this._input().get(0),e=this.option("rtlEnabled"),i=this._getClearButtonWidth(),n=this._getLongestElementDimensions(),a=parseFloat(Xt.getComputedStyle(t).width)-i,s=n.width>a,o=t.style;this.$element().toggleClass(ie,!s),s?(void 0===this._storedPadding&&(this._storedPadding=e?n.leftPadding:n.rightPadding),e?o.paddingLeft=0:o.paddingRight=0):e?o.paddingLeft=this._storedPadding+"px":o.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var t=0;if(this._isClearButtonVisible()&&""===this._input().val()){var e=this.$element().find("."+ne).get(0);t=parseFloat(Xt.getComputedStyle(e).width)}return t},_getLongestElementDimensions:function(){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=D.Z.format(F.getLongestDate(t,D.Z.getMonthNames(),D.Z.getDayNames()),t),i=this._input(),n=i.get(0),a=(0,o.l5)(i,e),s=void 0!==this._storedPadding,r=s?this._storedPadding:0;a.appendTo(this.$element());var l=parseFloat(Xt.getComputedStyle(a.get(0)).width),h=parseFloat(Xt.getComputedStyle(n).paddingRight),u=parseFloat(Xt.getComputedStyle(n).paddingLeft),d=l+u+h+r;return a.remove(),{width:d,leftPadding:u,rightPadding:h}},_getKeyboardListeners(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass(ae),this._renderPopupWrapper()},_getPopupToolbarItems(){var t,e,i,n=this.callBase();return null!==(t=null===(e=(i=this._strategy)._getPopupToolbarItems)||void 0===e?void 0:e.call(i,n))&&void 0!==t?t:n},_popupConfig:function(){var t=this.callBase();return(0,r.l)(this._strategy.popupConfig(t),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var t=this.$element(),e=(0,r.l)({},re,oe);(0,x.S6)(e,function(e,i){t.removeClass(ae+"-"+i)}.bind(this)),this._popup.$wrapper().addClass(ae+"-"+this.option("type")).addClass(ae+"-"+this._pickerType).addClass(se)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(t){t&&this._formatValidationIcon()},_clearValueHandler:function(t){this.option("text",""),this.callBase(t)},_readOnlyPropValue:function(){if(this._pickerType===oe.rollers)return!0;var t=V.Z.real().platform,e=this._isNativeType()&&("ios"===t||"android"===t);return e?this.option("readOnly"):this.callBase()},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var t=this.dateOption("value");return this.option("text",this._getDisplayedText(t)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var t=this.dateOption("value"),e=this.option("dateSerializationFormat"),i=F.SUBMIT_FORMATS_MAP[this.option("type")],n=e?T.Z.serializeDate(t,e):F.toStandardDateFormat(t,i);this._getSubmitElement().val(n)},_getDisplayedText:function(t){var e,i=this.option("mode");if("text"===i){var n=this._strategy.getDisplayFormat(this.option("displayFormat"));e=D.Z.format(t,n)}else{var a=this._getFormatByMode(i);e=a?D.Z.format(t,a):F.toStandardDateFormat(t,i)}return e},_getFormatByMode:function(t){return(0,b.inputType)(t)?null:F.FORMATS_MAP[t]},_valueChangeEventHandler:function(t){var{text:e,type:i,validationError:n}=this.option(),a=this.dateOption("value");if(e!==this._getDisplayedText(a)){var s=this._getParsedDate(e),o=null!==a&&void 0!==a?a:this._getDateByDefault(),r=F.mergeDates(o,s,i),l=s&&"time"===i?r:s;if(this._applyInternalValidation(l).isValid){var h=this._getDisplayedText(r);o&&r&&o.getTime()===r.getTime()&&h!==e?this._renderValue():this.dateValue(r,t)}}else n&&!n.editorSpecific||(this._applyInternalValidation(a),this._applyCustomValidation(a))},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(t){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),i=this._strategy.getParsedText(t,e);return null!==i&&void 0!==i?i:void 0},_applyInternalValidation(t){var e=this.option("text"),i=!!e&&null!==t,n=!!t&&(0,s.J_)(t)&&!isNaN(t.getTime()),a=n&&B.Z.dateInRange(t,this.dateOption("min"),this.dateOption("max"),this.option("type")),o=!i&&!t||a,r="";return n?a||(r=this.option("dateOutOfRangeMessage")):r=this.option("invalidDateMessage"),this.option({isValid:o,validationError:o?null:{editorSpecific:!0,message:r}}),{isValid:o,isDate:n}},_applyCustomValidation:function(t){this.validationRequest.fire({editor:this,value:this._serializeDate(t)})},_isValueChanged:function(t){var e=this.dateOption("value"),i=e&&e.getTime(),n=t&&t.getTime();return i!==n},_isTextChanged:function(t){var e=this.option("text"),i=t&&this._getDisplayedText(t)||"";return e!==i},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var t=this.option("placeholder");if(t)return t;var e=this.option("type");return e===re.time?N.Z.format("dxDateBox-simulatedDataPickerTitleTime"):e===re.date||e===re.datetime?N.Z.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(t){var e=this._strategy.getValue();this.dateValue(e,t.event),this.callBase()},_dispose:function(){var t;this.callBase(),null===(t=this._strategy)||void 0===t||t.dispose()},_isNativeType:function(){return this._pickerType===oe.native},_updatePopupTitle:function(){var t;null===(t=this._popup)||void 0===t||t.option("title",this._getPopupTitle())},_optionChanged:function(t){switch(t.name){case"showClearButton":case"buttons":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:t.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:t.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var e=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),e||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(t.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"todayButtonText":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var t=this.option("value");return this.option("dateSerializationFormat")&&(0,S.Z)().forceIsoDateParsing?this.option("dateSerializationFormat"):(0,s.kE)(t)?"number":(0,s.HD)(t)?T.Z.getDateSerializationFormat(t):void 0},_updateValue:function(t){this.callBase(),this._applyInternalValidation(null!==t&&void 0!==t?t:this.dateOption("value"))},dateValue:function(t,e){var i=this._isValueChanged(t);return i&&e&&this._saveValueChangeEvent(e),i||(this._isTextChanged(t)?this._updateValue(t):""===this.option("text")&&this._applyCustomValidation(t)),this.dateOption("value",t)},dateOption:function(t,e){if(1===arguments.length)return T.Z.deserializeDate(this.option(t));this.option(t,this._serializeDate(e))},_serializeDate:function(t){var e=this._getSerializationFormat();return T.Z.serializeDate(t,e)},_clearValue:function(){var t=this.option("value");this.callBase(),null===t&&this._applyCustomValidation(null)},reset:function(){var t=this.option("value");this.callBase(),null===t&&this._applyInternalValidation(null)}}),de=ue,ce=i(74933),pe=i(54768),_e="dateBoxMask",me=1,fe=-1,ve=de.inherit({_supportedKeys(t){var e=this.callBase(t),i=t=>{var i=e[(0,a.EV)(t)];return i&&i.apply(this,[t])},n=(t,e)=>this._shouldUseOriginalHandler(t)?i.apply(this,[t]):e.apply(this,[t]);return(0,r.l)({},e,{del:t=>n(t,(t=>{this._revertPart(me),this._isAllSelected()||t.preventDefault()})),backspace:t=>n(t,(t=>{this._revertPart(fe),this._isAllSelected()||t.preventDefault()})),home:t=>n(t,(t=>{this._selectFirstPart(),t.preventDefault()})),end:t=>n(t,(t=>{this._selectLastPart(),t.preventDefault()})),escape:t=>n(t,(t=>{this._revertChanges(t)})),enter:t=>n(t,(t=>{this._enterHandler(t)})),leftArrow:t=>n(t,(t=>{this._selectNextPart(fe),t.preventDefault()})),rightArrow:t=>n(t,(t=>{this._selectNextPart(me),t.preventDefault()})),upArrow:t=>n(t,(t=>{this._upDownArrowHandler(me),t.preventDefault()})),downArrow:t=>n(t,(t=>{this._upDownArrowHandler(fe),t.preventDefault()}))})},_shouldUseOriginalHandler(t){var e=this.option("opened")&&t&&-1===["backspace","del"].indexOf((0,a.EV)(t));return!this._useMaskBehavior()||e||t&&t.altKey},_upDownArrowHandler(t){this._setNewDateIfEmpty();var e=this._getActivePartValue(this._initialMaskValue),i=this._getActivePartValue(),n=i-e;this._loadMaskValue(this._initialMaskValue),this._partIncrease(n+t,!0)},_getDefaultOptions(){return(0,r.l)(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey(t){var{originalEvent:e,alt:i}=t,n=e.data||e.key;return"string"===typeof n&&1===n.length&&!i&&!(0,a.j1)(e)},_isSingleDigitKey(t){var e,i=null===(e=t.originalEvent)||void 0===e?void 0:e.data;return 1===(null===i||void 0===i?void 0:i.length)&&parseInt(i,10)},_useBeforeInputEvent:function(){return V.Z.real().android},_keyInputHandler(t,e){var i=this._input().val();this._processInputKey(e),t.preventDefault();var n=i!==this._input().val();n&&h.Z.trigger(this._input(),"input")},_keyboardHandler(t){var e=t.originalEvent.key,i=this.callBase(t);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(pe.Z.chrome&&"Process"===t.key&&0===t.code.indexOf("Digit")?(e=t.code.replace("Digit",""),this._processInputKey(e),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(t)&&this._keyInputHandler(t.originalEvent,e)),i},_maskBeforeInputHandler(t){this._maskInputHandler=null;var{inputType:e}=t.originalEvent;"insertCompositionText"===e&&(this._maskInputHandler=()=>{this._renderSelectedPart()});var i="deleteContentBackward"===e,n="deleteContentForward"===e;if(i||n){var a=i?fe:me;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(a)}}if(this._useMaskBehavior()&&this._isSingleCharKey(t)){var s=t.originalEvent.data;return this._keyInputHandler(t,s),!0}},_keyPressHandler(t){var{originalEvent:e}=t;"insertCompositionText"===(null===e||void 0===e?void 0:e.inputType)&&this._isSingleDigitKey(t)&&(this._processInputKey(e.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(t),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey(t){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(t))?this._searchString(t):this._searchNumber(t)},_isAllSelected(){var t=this._caret();return t.end-t.start===this.option("text").length},_getFormatPattern(){if(this._formatPattern)return this._formatPattern;var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=(0,s.HD)(t)&&!D.Z._getPatternByFormat(t);return this._formatPattern=e?t:(0,y.y)((function(e){return D.Z.format(e,t)})),this._formatPattern},_setNewDateIfEmpty(){if(!this._maskValue){var t="time"===this.option("type")?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}},_partLimitsReached(t){var e=String(t).length,i=this._getActivePartProp("pattern").length,n=1===i,a=n?e:Math.min(i,e),s=this._searchValue.length===a,o=parseInt(this._searchValue+"0")>t;return s||o},_searchNumber(t){var{max:e}=this._getActivePartLimits(),i=String(e).length;this._searchValue=(this._searchValue+t).substr(-i),isNaN(this._searchValue)&&(this._searchValue=t),this._setActivePartValue(this._searchValue),this._partLimitsReached(e)&&this._selectNextPart(me)},_searchString(t){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var e=this._getActivePartProp("limits")(this._maskValue),i=this._searchValue+t.toLowerCase(),n=e.max-e.min,a=0;a<=n;a++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(a+1),0===this._getActivePartProp("text").toLowerCase().indexOf(i))return void(this._searchValue=i);this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(t))}},_clearSearchValue(){this._searchValue=""},_revertPart:function(t){if(!this._isAllSelected()){var e=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(e),this._selectNextPart(t)}this._clearSearchValue()},_useMaskBehavior(){return this.option("useMaskBehavior")&&"text"===this.option("mode")},_prepareRegExpInfo(){this._regExpInfo=(0,u.oo)(this._getFormatPattern(),D.Z);var t=this._regExpInfo.regexp,e=t.source,i=t.flags,n=new RegExp(/(\{[0-9]+,?[0-9]*\})/),a=e.split(n).map((t=>n.test(t)?t:ce.Z.convertDigits(t,!1))).join("");this._regExpInfo.regexp=new RegExp(a,i)},_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts(){if(this._useMaskBehavior()){var t=this.option("text")||this._getDisplayedText(this._maskValue);t&&(this._dateParts=v(t,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents(){h.Z.off(this._input(),"."+_e)},_attachMaskEvents(){h.Z.on(this._input(),(0,a.V4)("dxclick",_e),this._maskClickHandler.bind(this)),h.Z.on(this._input(),(0,a.V4)("paste",_e),this._maskPasteHandler.bind(this)),h.Z.on(this._input(),(0,a.V4)("drop",_e),(()=>{this._renderSelectedPart()})),h.Z.on(this._input(),(0,a.V4)("compositionend",_e),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&h.Z.on(this._input(),(0,a.V4)("beforeinput",_e),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(fe))},_selectFirstPart(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(me))},_onMouseWheel(t){this._useMaskBehavior()&&this._partIncrease(t.delta>0?me:fe,t)},_selectNextPart(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.option("text")&&!this._disposed){t&&(this._initialMaskValue=new Date(this._maskValue));var e=(0,l.n$)(this._activePartIndex+t,0,this._dateParts.length-1);if(this._dateParts[e].isStub){var i=0===e&&t<0||e===this._dateParts.length-1&&t>0;if(!i)return void this._selectNextPart(t>=0?t+1:t-1);e=this._activePartIndex}this._activePartIndex!==e&&this._clearSearchValue(),this._activePartIndex=e,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern(){if("d"===this._getActivePartProp("pattern")[0])return"dM"},_getActivePartLimits(t){var e=this._getActivePartProp("limits");return e(this._maskValue,t&&this._getRealLimitsPattern())},_getActivePartValue(t){t=t||this._maskValue;var e=this._getActivePartProp("getter");return(0,s.mf)(e)?e(t):t[e]()},_addLeadingZeroes(t){var e=this._searchValue.match(/^0+/),i=this._getActivePartLimits(),n=String(i.max).length;return((e&&e[0]||"")+String(t)).substr(-n)},_setActivePartValue(t,e){e=e||this._maskValue;var i=this._getActivePartProp("setter"),n=this._getActivePartLimits();t=(0,l.Z2)(t,n.min,n.max)?t:t%10,t=this._addLeadingZeroes((0,l.n$)(t,n.min,n.max)),(0,s.mf)(i)?i(e,t):e[i](t),this._renderDisplayText(this._getDisplayedText(e)),this._renderDateParts()},_getActivePartProp(t){if(this._dateParts&&this._dateParts[this._activePartIndex])return this._dateParts[this._activePartIndex][t]},_loadMaskValue(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dateOption("value");this._maskValue=t&&new Date(t),this._initialMaskValue=t&&new Date(t)},_saveMaskValue(){var t=this._maskValue&&new Date(this._maskValue);t&&"date"===this.option("type")&&t.setHours(0,0,0,0),this._initialMaskValue=new Date(t),this.dateOption("value",t)},_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText(t){this.callBase(t),this._useMaskBehavior()&&this.option("text",t)},_partIncrease(t,e){this._setNewDateIfEmpty();var{max:i,min:n}=this._getActivePartLimits(e),a=i-n;1===a&&a++;var s=t+this._getActivePartValue();s>i?s=this._applyLimits(s,{limitBase:n,limitClosest:i,limitDelta:a}):s<n&&(s=this._applyLimits(s,{limitBase:i,limitClosest:n,limitDelta:a})),this._setActivePartValue(s)},_applyLimits(t,e){var{limitBase:i,limitClosest:n,limitDelta:a}=e,s=(t-n)%a;return s?i+s-1*(0,l.Xx)(s):n},_maskClickHandler(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=C(this._dateParts,this._caret().start),this._isAllSelected()||((0,s.$K)(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler(t){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}},_maskPasteHandler(t){var e=this._replaceSelectedText(this.option("text"),this._caret(),(0,o.Zx)(t)),i=D.Z.parse(e,this._getFormatPattern());i&&this._isDateValid(i)&&(this._maskValue=i,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),t.preventDefault()},_isDateValid:t=>(0,s.J_)(t)&&!isNaN(t),_isValueDirty(){var t=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(t&&t.getTime())},_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&h.Z.trigger(this._input(),"change")},_enterHandler(t){this._fireChangeEvent(),this._selectNextPart(me),t.preventDefault()},_focusOutHandler(t){var e=this._useMaskBehavior()&&!t.isDefaultPrevented();e?(this._fireChangeEvent(),this.callBase(t),this._selectFirstPart(t)):this.callBase(t)},_valueChangeEventHandler(t){var e=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(t),e?null===this._maskValue&&this._loadMaskValue(e):this._maskValue=null,this._saveMaskValue()):this.callBase(t)},_optionChanged(t){switch(t.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(t),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(t),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(t)}},_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset(){this._clearMaskState(),this._activePartIndex=0,this.callBase()},_clean(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}}),ge=ve;(0,n.Z)("dxDateBox",ge);var Ce=ge,De=Ce},76397:function(t,e,i){i.d(e,{Z:function(){return z}});i(52262),i(24506);var n=i(60621),a=i(66487),s=i(81856),o=i(70732),r=i(84392),l=i(20833),h=i(12145),u=i(9783),d=i(72602),c=i(12117),p=i(88125),_=i(82336),m=i(18400),f=i(19231),v=i(24357),g=i(47949),C="dx-dropdowneditor-button",D="dx-dropdowneditor-button-visible",y="dxDropDownEditor-selectLabel";class w extends v.Z{constructor(t,e,i){super(t,e,i),this.currentTemplate=null}_attachEvents(t){var{editor:e}=this;t.option("onClick",(t=>{!e.option("openOnFieldClick")&&e._openHandler(t)})),a.Z.on(t.$element(),"mousedown",(t=>{e.$element().is(".dx-state-focused")&&t.preventDefault()}))}_create(){var{editor:t}=this,e=(0,n.Z)("<div>"),i=this._getOptions();this._addToContainer(e);var a=t._createComponent(e,g["default"],(0,d.l)({},i,{elementAttr:{"aria-label":f.Z.format(y)}}));return this._legacyRender(t.$element(),e,i.visible),{$element:e,instance:a}}_getOptions(){var{editor:t}=this,e=this._isVisible(),i=t.option("readOnly"),n={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:i,visible:e};return this._addTemplate(n),n}_isVisible(){var{editor:t}=this;return super._isVisible()&&t.option("showDropDownButton")}_legacyRender(t,e,i){t.toggleClass(D,i),e&&e.removeClass("dx-button").addClass(C)}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(t){this._isSameTemplate()||(t.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){var t=super.update();if(t){var{editor:e,instance:i}=this,n=e.$element(),a=this._getOptions();null===i||void 0===i||i.option(a),this._legacyRender(n,null===i||void 0===i?void 0:i.$element(),a.visible)}}}var x=i(71385),b=i(84518),V=i(27749),S=i(36879),B=i(26256),I=i(16195),T=i(80035),E=i(56901),Z=i(57361),k=i(95328),M="dx-dropdowneditor",O="dx-dropdowneditor-input-wrapper",A="dx-dropdowneditor-icon",P="dx-dropdowneditor-overlay",F="dx-dropdowneditor-overlay-flipped",H="dx-dropdowneditor-active",N="dx-dropdowneditor-field-clickable",$="dx-dropdowneditor-field-template-wrapper",L="ios"===B.Z.current().platform,R=V["default"].inherit({_supportedKeys:function(){return(0,d.l)({},this.callBase(),{tab:function(t){if(this.option("opened"))if("instantly"!==this.option("applyValueMode")){var e=t.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&a.Z.trigger(e,"focus"),t.preventDefault()}else this.close()},escape:function(t){return this.option("opened")&&t.preventDefault(),this.close(),!0},upArrow:function(t){return!(!(0,b.j1)(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey))||(this.close(),!1)},downArrow:function(t){return!(!(0,b.j1)(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey))||(this._validatedOpening(),!1)},enter:function(t){return this.option("opened")&&(t.preventDefault(),this._valueChangeEventHandler(t)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:w}])},_getDefaultOptions:function(){return(0,d.l)(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:f.Z.format("OK"),cancelButtonText:f.Z.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1,validationMessagePosition:"auto"})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(t){var e=(0,m.q)(t);return{offset:{h:0,v:-1},my:e+" top",at:e+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){var e="generic"===t.platform;return e},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+O).first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(t){var{my:e,at:i}=this._getDefaultPopupPosition(t),n=this.option("popupPosition");this.option("popupPosition",(0,d.l)({},n,{my:e,at:i}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass(M),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner((0,n.Z)("<div>").addClass(O)).children().eq(0)},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var t=this._getFieldTemplate();t&&this._renderTemplatedField(t,this._fieldRenderData())},_renderPlaceholder:function(){var t=!!this._getFieldTemplate();t||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue();var t=this.callBase();t.always(this._renderField.bind(this))},_renderTemplatedField:function(t,e){var i;this._fieldRenderQueueLength=(null!==(i=this._fieldRenderQueueLength)&&void 0!==i?i:0)+1;var s=(0,l.si)(this._input()),o=this._$container;this._detachKeyboardEvents(),this._refreshButtonsContainer(),this._detachWrapperContent(),this._detachFocusEvents(),o.empty();var r=(0,n.Z)("<div>").addClass($).appendTo(o);t.render({model:e,container:(0,c.u)(r),onRendered:()=>{if(this._fieldRenderQueueLength--,0===this._fieldRenderQueueLength){var t=this._input();if(!t.length)throw p.Z.Error("E1010");this._integrateInput(),s&&a.Z.trigger(t,"focus")}}}),this._attachWrapperContent(o)},_detachWrapperContent(){var t,e,i,n=this.option("useHiddenSubmitElement");n&&(null===(t=this._$submitElement)||void 0===t||t.detach());var a=null===(e=this._$beforeButtonsContainer)||void 0===e?void 0:e[0].parentNode,s=null===(i=this._$afterButtonsContainer)||void 0===i?void 0:i[0].parentNode;null===a||void 0===a||a.removeChild(this._$beforeButtonsContainer[0]),null===s||void 0===s||s.removeChild(this._$afterButtonsContainer[0])},_attachWrapperContent(t){var e,i=this.option("useHiddenSubmitElement");t.prepend(this._$beforeButtonsContainer),i&&(null===(e=this._$submitElement)||void 0===e||e.appendTo(t)),t.append(this._$afterButtonsContainer)},_refreshButtonsContainer(){this._$buttonsContainer=this.$element().children().eq(0)},_integrateInput:function(){this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){a.Z.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new I.k((function(t){var e=(0,n.Z)("<div>").addClass(A);(0,n.Z)(t.container).append(e)}))}),this.callBase()},_renderOpenHandler:function(){var t=this._inputWrapper(),e=(0,b.V4)(S.u,this.NAME),i=this.option("openOnFieldClick");a.Z.off(t,e),a.Z.on(t,e,this._getInputClickHandler(i)),this.$element().toggleClass(N,i),i&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){L&&(this._detachFocusOutEvents(),a.Z.on(this._inputWrapper(),(0,b.V4)("focusout",this.NAME),(t=>{var e=t.relatedTarget,i=this.content?(0,n.Z)(this.content()).closest("."+P):this._$popup;if(e&&this.option("opened")){var a=0===(0,n.Z)(e).closest("."+P,i).length;a&&this.close()}})))},_detachFocusOutEvents:function(){L&&a.Z.off(this._inputWrapper(),(0,b.V4)("focusout",this.NAME))},_getInputClickHandler:function(t){return t?t=>{this._executeOpenAction(t)}:t=>{this._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(t){this._openOnFieldClickAction({event:t})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return!this.option("disabled")&&(this.option("focusStateEnabled")&&!(0,l.si)(this._input())&&(this._resetCaretPosition(),a.Z.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._input().get(0);if(e){var{value:i}=e,n=(0,u.$K)(i)&&(t||this._isEditable())?i.length:0;this._caret({start:n,end:n},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(t){this._focusInput()&&(this.option("readOnly")||(t=arguments.length?t:!this.option("opened"),this.option("opened",t)))},_renderOpenedState:function(){var t=this.option("opened");t&&this._createPopup(),this.$element().toggleClass(H,t),this._setPopupOption("visible",t),this.setAria({expanded:t}),this.setAria("owns",t?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=(0,n.Z)("<div>").addClass(P).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:r.ZT,_renderPopup:function(){var t=(0,d.l)(this._popupConfig(),this._options.cache("dropDownOptions"));this._popup=this._createComponent(this._$popup,T.Z,t),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId(t){this._popupContentId="dx-"+new s.Z,this.setAria("id",this._popupContentId,t)},_contentReadyHandler:r.ZT,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:(0,d.l)(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>(0,Z.m)(this.$element()),height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:t=>this._closeOutsideDropDownHandler(t),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null,_wrapperClassExternal:P}},_popupInitializedHandler:function(){return this.option("onPopupInitialized")?t=>{this._popupInitializedAction({popup:t.component})}:null},_dimensionChanged:function(){var t=(0,Z.T)(this.option("dropDownOptions.width"));void 0===t&&this._setPopupOption("width",(()=>(0,Z.m)(this.$element())))},_popupPositionedHandler:function(t){var{labelMode:e,stylingMode:i}=this.option(),n=this._popup.$overlayContent(),a=t.position.v.flip,s="hidden"!==e&&"outlined"===i;if(t.position&&n.toggleClass(F,a),a&&s&&this._label.isVisible()){var o=this._label.$element();(0,k.pB)(n,{top:(0,k.jt)(n).top-parseInt(o.css("fontSize"))})}},_popupShowingHandler:r.ZT,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var t;this._openAction(),null===(t=this._validationMessage)||void 0===t||t.option("positionSide",this._getValidationMessagePositionSide())},_popupHiddenHandler:function(){var t;this._closeAction(),null===(t=this._validationMessage)||void 0===t||t.option("positionSide",this._getValidationMessagePositionSide())},_getValidationMessagePositionSide:function(){var t=this.option("validationMessagePosition");if("auto"!==t)return t;var e="bottom";if(this._popup&&this._popup.option("visible")){var{top:i}=_.Z.setup(this.$element()),{top:n}=_.Z.setup(this._popup.$content());e=i+this.option("popupPosition").offset.v>n?"bottom":"top"}return e},_closeOutsideDropDownHandler:function(t){var{target:e}=t,i=(0,n.Z)(e),a=this.getButton("dropDown"),s=a&&a.$element(),o=!!i.closest(this.$element()).length,r=!!i.closest(s).length,l=!o&&!r;return l},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return"useButtons"===this.option("applyValueMode")?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(t){var e=(0,n.Z)(t.currentTarget);(t.shiftKey&&e.is(this._getFirstPopupElement())||!t.shiftKey&&e.is(this._getLastPopupElement()))&&(a.Z.trigger(this._input(),"focus"),t.preventDefault())},_popupElementEscHandler:function(){a.Z.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(t){t.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),t.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var t=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(t)},_applyButtonsLocation:function(t){var e=this.option("buttonsLocation"),i=t;if("default"!==e){var n=(0,r.Um)(e);(0,h.S6)(i,(function(t,e){(0,d.l)(e,{toolbar:n[0],location:n[1]})}))}return i},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(t){var e=x.Z.getOptionsFromContainer(t);this._setPopupOption(e);var i=Object.keys(e);-1===i.indexOf("width")&&-1===i.indexOf("height")||this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=(0,n.Z)("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(t){var e;switch(t.name){case"width":case"height":this.callBase(t),null===(e=this._popup)||void 0===e||e.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":(0,u.$K)(t.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(t),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":(0,E.Ym)()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(t.value),this.callBase(t);break;default:this.callBase(t)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return(0,c.u)(this._input())},content:function(){return this._popup?this._popup.content():null}});(0,o.Z)("dxDropDownEditor",R);var z=R},87242:function(t,e,i){var n=i(79264),a=i(60621),s=i(56901),o=i(66487),r=i(81856),l=i(70732),h=i(84392),u=i(9783),d=i(72602),c=i(76397),p=i(95392),_=i(88125),m=i(84518),f=i(26256),v=i(35071),g=i(12145),C=i(70233),D=i(19231),y=i(88293),w=i(42061),x=i(62509),b=(0,s.Jj)(),V=".dx-list-item",S="dxListItemData",B="dx-dropdownlist-popup-wrapper",I="input",T=["startswith","contains","endwith","notcontains"],E="android"!==f.Z.real().platform,Z=c.Z.inherit({_supportedKeys:function(){var t=this.callBase();return(0,d.l)({},t,{tab:function(e){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(e);var i=(0,a.Z)(this._list.option("focusedElement"));i.length&&this._setSelectedElement(i)}t.tab.apply(this,arguments)},space:h.ZT,home:h.ZT,end:h.ZT})},_allowSelectItemByTab:function(){return this.option("opened")&&"instantly"===this.option("applyValueMode")},_setSelectedElement:function(t){var e=this._valueGetter(this._list._getItemData(t));this._setValue(e)},_setValue:function(t){this.option("value",t)},_getDefaultOptions:function(){return(0,d.l)(this.callBase(),(0,d.l)(C.Z._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:D.Z.format("dxCollectionWidget-noDataText"),onSelectionChanged:null,onItemClick:h.ZT,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),(0,d.l)(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var t=this.option().items;t&&!t.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new y.s("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(t){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(t,e,i){return t>i?e:t<e?i:t},_items:function(){var t=this._getPlainItems(!this._list&&this._dataSource.items()),e=new v.Z(t).filter("disabled","<>",!0).toArray();return e},_calcNextItem:function(t){var e=this._items(),i=this._fitIntoRange(this._getSelectedIndex()+t,0,e.length-1);return e[i]},_getSelectedIndex:function(){var t=this._items(),e=this.option("selectedItem"),i=-1;return(0,g.S6)(t,function(t,n){if(this._isValueEquals(n,e))return i=t,!1}.bind(this)),i},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var t=this._popup.$content();o.Z.off(t,"mouseup"),o.Z.on(t,"mouseup",this._saveFocusOnWidget.bind(this))},_updateCustomBoundaryContainer:function(){var t=this.option("dropDownOptions.container"),e=t&&(0,a.Z)(t);if(e&&e.length&&!(0,u.FJ)(e.get(0))){var i=[].slice.call(e.parents());i.unshift(e.get(0)),(0,g.S6)(i,function(t,e){return e!==(0,a.Z)("body").get(0)&&("hidden"===b.getComputedStyle(e).overflowY?(this._$customBoundaryContainer=(0,a.Z)(e),!1):void 0)}.bind(this))}},_popupWrapperClass:function(){return B},_renderInputValue:function(){var t=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(t,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,t))},_loadInputValue:function(t,e){return this._loadItem(t).always(e)},_getItemFromPlain:function(t,e){var i,n;return e&&"object"!==typeof t&&(e.itemByValue||(e.itemByValue={},i=this._getPlainItems(),i.forEach((function(t){e.itemByValue[this._valueGetter(t)]=t}),this)),n=e.itemByValue[t]),n||(i=this._getPlainItems(),n=(0,h.h3)(i,function(e){return this._isValueEquals(this._valueGetter(e),t)}.bind(this))[0]),n},_loadItem:function(t,e){var i=this._getItemFromPlain(t,e);return void 0!==i?(new w.BH).resolve(i).promise():this._loadValue(t)},_getPlainItems:function(t){var e=[];t=t||this.option("items")||this._dataSource.items()||[];for(var i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);return e},_updateActiveDescendant(){var t,e=this.option("opened"),i=null===(t=this._list)||void 0===t?void 0:t.getFocusedItemId(),n=(0,a.Z)("#".concat(i)).length>0,s=e&&n&&i;this.setAria({activedescendant:s||null})},_setSelectedItem:function(t){var e=this._displayValue(t);this.option("selectedItem",(0,h.IS)(t,null)),this.option("displayValue",e)},_displayValue:function(t){return this._displayGetter(t)},_refreshSelected:function(){var t={};this._listItemElements().each(function(e,i){var n=(0,a.Z)(i),s=this._valueGetter(n.data(S)),o=this._isSelectedValue(s,t);o?this._list.selectItem(n):this._list.unselectItem(n)}.bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){this.option("focusStateEnabled")&&this._list&&this._list.option("focusedElement",null)},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_validateSearchMode:function(){var t=this.option("searchMode"),e=t.toLowerCase();if(!T.includes(e))throw _.Z.Error("E1019",t)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._initDataController(),this._setListOption("_dataController",this._dataController),this._setListDataSource(),this._renderInputValue().fail(function(){this._isCustomValueAllowed()||this._clearSelectedItem()}.bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(V):(0,a.Z)()},_popupConfig:function(){return(0,d.l)(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners(){var t=this._canListHaveFocus();return this.callBase().concat([!t&&this._list])},_setAriaTargetForList:function(){this._list._getAriaTarget=this._getAriaTarget.bind(this)},_renderList:function(){this._listId="dx-"+(new r.Z)._value;var t=this._$list=(0,a.Z)("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._list=this._createComponent(t,p.Z,this._listConfig()),this._refreshList(),this._setAriaTargetForList(),this._list.option("_listAttributes",{role:"combobox"}),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick:function(){var t=(0,m.V4)("mousedown","dxDropDownList");o.Z.off(this._$list,t),o.Z.on(this._$list,t,(t=>t.preventDefault()))},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria({controls:this._list&&this._listId,owns:this._popup&&this._popupContentId})},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){var t=!!this._list.option("dataSource");return t!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return"desktop"===f.Z.real().deviceType},_listConfig:function(){var t={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_dataController:this._dataController,hoverStateEnabled:!!this._isDesktopDevice()&&this.option("hoverStateEnabled"),focusStateEnabled:!!this._isDesktopDevice()&&this.option("focusStateEnabled")};return this._canListHaveFocus()||(t.tabIndex=null),t},_canListHaveFocus:()=>!1,_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._dimensionChanged(),this._contentReadyAction()},_setListOption:function(t,e){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(t){this._listItemClickHandler(t),this._itemClickAction(t)},_listItemClickHandler:h.ZT,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return!this._canKeepDataSource()&&this._needPassDataSourceToList()},_canKeepDataSource:function(){var t=this._isMinSearchLengthExceeded();return this._dataController.isLoaded()&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!t&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return(0,m.V4)(I,this.NAME+"Search")},_getCompositionStartEvent:function(){return(0,m.V4)("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return(0,m.V4)("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return(0,m.V4)("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),o.Z.on(this._input(),this._getSetFocusPolicyEvent(),(()=>{this._setFocusPolicy()})),this._shouldRenderSearchEvent()&&(o.Z.on(this._input(),this._getSearchEvent(),(t=>{this._searchHandler(t)})),E&&(o.Z.on(this._input(),this._getCompositionStartEvent(),(()=>{this._isTextCompositionInProgress(!0)})),o.Z.on(this._input(),this._getCompositionEndEvent(),(t=>{this._isTextCompositionInProgress(void 0),this._searchHandler(t,this._searchValue())}))))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){o.Z.off(this._input(),this._getSearchEvent()),o.Z.off(this._input(),this._getSetFocusPolicyEvent()),E&&(o.Z.off(this._input(),this._getCompositionStartEvent()),o.Z.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress:function(t){if(!arguments.length)return this._isTextComposition;this._isTextComposition=t},_searchHandler:function(t,e){if(!this._isTextCompositionInProgress())if(this._isMinSearchLengthExceeded()){var i=this.option("searchTimeout");i?(this._clearSearchTimer(),this._searchTimer=setTimeout((()=>{this._searchDataSource(e)}),i)):this._searchDataSource(e)}else this._searchCanceled()},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._searchValue();this._filterDataSource(t)},_filterDataSource:function(t){this._clearSearchTimer();var e=this._dataController;e.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),e.searchOperation(this.option("searchMode")),e.searchValue(t),e.load().done(this._dataSourceFiltered.bind(this,t))},_clearFilter:function(){var t=this._dataController;t.searchValue()&&t.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!this.option("readOnly")&&this._searchValue()){var t=this._shouldOpenPopup();t&&!this._isFocused()||(this.option("opened",t),t&&this._dimensionChanged())}},_dataSourceChangedHandler:function(t){0===this._dataController.pageIndex()?this.option().items=t:this.option().items=this.option().items.concat(t)},_hasItemsToShow:function(){var t=this._dataController,e=t.items()||[],i=e.length,n=this._needPassDataSourceToList();return!(!n||!i)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._dimensionChanged()},_dimensionChanged:function(){this.callBase(arguments),this._popup&&this._updatePopupDimensions()},_needPopupRepaint:function(){var t=this._dataController,e=t.pageIndex(),i=(0,u.$K)(this._pageIndex)&&e<=this._pageIndex||t.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=e,i},_updatePopupDimensions:function(){this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions()},_getMaxHeight:function(){var t=this.$element(),e=this._$customBoundaryContainer,i=t.offset().top-(e?e.offset().top:0),a=(0,n.zp)(b),s=e?Math.min((0,n.zp)(e),a):a,o=Math.max(i,s-i-(0,n.zp)(t));return Math.min(.5*s,o)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var t=this.option("value"),e=this._shouldUseDisplayValue(t)?this._displayGetter(t):t;this._getSubmitElement().val(e)},_shouldUseDisplayValue:function(t){return"this"===this.option("valueExpr")&&(0,u.Kn)(t)},_optionChanged:function(t){switch(this._dataExpressionOptionChanged(t),t.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(t.name,t.value),this.callBase(t);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"useItemTextAsTitle":this._setListOption(t.name);break;case"displayValue":this.option("text",t.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":t.previousValue!==t.value&&this._selectionChangedAction({selectedItem:t.value});break;default:this.callBase(t)}}}).include(C.Z,x.Z);(0,l.Z)("dxDropDownList",Z),e["Z"]=Z},70233:function(t,e,i){var n=i(84469),a=i(18095),s=i(84392),o=i(9783),r=i(72602),l=i(31523),h=i(70004),u=i(27452),d=i(42061),c=(0,r.l)({},l.Z,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new h.o({store:new u.Z(this.option("items")),pageSize:0}),this._initDataController())},_compileDisplayGetter:function(){this._displayGetter=(0,a.vb)(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=(0,a.vb)(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(t){var e=new d.BH;return t=this._unwrappedValue(t),(0,o.$K)(t)?(this._loadSingle(this._valueGetterExpr(),t).done(function(i){this._isValueEquals(this._valueGetter(i),t)?e.resolve(i):e.reject()}.bind(this)).fail((function(){e.reject()})),this._loadValueDeferred=e,e.promise()):e.reject().promise()},_rejectValueLoading:function(){var t;null===(t=this._loadValueDeferred)||void 0===t||t.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(t){var e;return t=null!==(e=t)&&void 0!==e?e:this._getCurrentValue(),t&&this._dataSource&&"this"===this._valueGetterExpr()&&(t=this._getItemKey(t)),n.Z.unwrap(t)},_getItemKey:function(t){var e=this._dataSource.key();if(Array.isArray(e)){for(var i={},n=0,a=e.length;n<a;n++)i[e[n]]=t[e[n]];return i}return e&&"object"===typeof t&&(t=t[e]),t},_isValueEquals:function(t,e){var i=this._dataSource&&this._dataSource.key(),n=this._compareValues(t,e);return!n&&i&&(0,o.$K)(t)&&(0,o.$K)(e)&&(n=Array.isArray(i)?this._compareByCompositeKey(t,e,i):this._compareByKey(t,e,i)),n},_compareByCompositeKey:function(t,e,i){var n=o.Kn;if(!n(t)||!n(e))return!1;for(var a=0,s=i.length;a<s;a++)if(t[i[a]]!==e[i[a]])return!1;return!0},_compareByKey:function(t,e,i){var a=n.Z.unwrap,o=(0,s.IS)(a(t[i]),t),r=(0,s.IS)(a(e[i]),e);return this._compareValues(o,r)},_compareValues:function(t,e){return(0,a.Ex)(t,!0)===(0,a.Ex)(e,!0)},_initDynamicTemplates:s.ZT,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var t=this.option("valueExpr"),e=(0,o.HD)(t)&&"this"!==t||(0,o.mf)(t);return e?t:null},_dataExpressionOptionChanged:function(t){switch(t.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}});e["Z"]=c},85787:function(t,e,i){i.r(e),i.d(e,{default:function(){return pt}});var n=i(70732),a=i(66487),s=i(72602),o=i(9783),r=i(26256),l=i(27773),h=i(74933),u=i(84392),d=function(t){for(var e=0,i=0,n=0;n<t.length;++n)if("'"===t[n]&&e++,"."===t[n]&&(++i,e%2===0))return{occurrence:i,index:n};return{occurrence:1,index:-1}},c=function(t,e,i){var n=-1;while(i--&&n++<t.length)n=t.indexOf(e,n);return n},p=function(t,e){return-1===e?[t]:[t.slice(0,e),t.slice(e+1)]},_=function(t,e){return t&&(0,l.zB)(t/100,e)},m=function(t,e){if("string"===typeof e){var i=e.split(";"),n=h.Z.getSign(t,e);i[1]=i[1]||"-"+i[0],e=i[n<0?1:0],o=e,e=o.replace(/'([^']*)'/g,(t=>t.split("").map((()=>" ")).join("").substr(2)));var a=/^[^#0.,]*/.exec(e)[0].length,s=/[^#0.,]*$/.exec(e)[0].length;return{start:a,end:t.length-s}}return{start:0,end:t.length};var o},f=function(t,e){var i=h.Z.getDecimalSeparator(),n=new RegExp("[^0-9"+(0,u.hr)(i)+"]","g"),a=e.slice(0,t);return a.replace(n,"").length},v=function(t){return t.split("").reverse().join("")},g=function(t,e){if(!t)return-1;var i=/[0-9]/g,n=1,a=null,s=i.exec(e);while(s){if(a=s.index,n>=t)return a;n++,s=i.exec(e)}return null===a?e.length:a},C=function(t){return t.replace(/[^0-9e]+$/,"")},D=function(t,e){return void 0===t.start&&(t={start:t,end:t}),{start:t.start+e,end:t.end+e}},y=function(t,e,i,n){i=D(i,0);var a=h.Z.getDecimalSeparator(),s=w(t),o=d(n).occurrence,r=s?0:c(t,a,o),l=c(e,a,o),u=p(t,r),_=p(e,l),m=-1!==r&&i.start>r;if(m){var y=i.start-r-1,x=f(y,u[1]),V=_[1]?l+1+g(x,_[1])+1:e.length;return b(V,e,n)}var S=C(_[0]),B=u[0].length-i.start,I=f(B,v(u[0])),T=g(I,v(S)),E=S.length-(T+1);return b(E,e,n)};function w(t){return 1===t.length&&!!t.match(/^[,.][0-9]*$/g)}var x=function(t,e,i){t=D(t,0);var n=b(t,e,i);return t.start>=n.start&&t.end<=n.end};function b(t,e,i){t=D(t,0);var n=m(e,i),a={start:(0,l.n$)(t.start,n.start,n.end),end:(0,l.n$)(t.end,n.start,n.end)};return a}var V=function(t,e,i){var n=m(t,i),a=m(e,i);return a.start-n.start},S=i(23303),B=i(60621),I=i(33158),T=i(54768),E=i(72680),Z=i(84518),k=i(24357),M=i(71385),O=i(12901),A=i(59955),P=i(31349),F=i(42061),H="dx-numberbox-spin",N="dx-numberbox-spin-button",$=100,L="dxNumberBox",R=(0,Z.V4)(O.Z.up,L),z=(0,Z.V4)(O.Z.cancel,L),W=M.Z.inherit({_getDefaultOptions:function(){return(0,s.l)(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var t=H+"-"+this.option("direction");this.$element().addClass(N).addClass(t),this._spinIcon=(0,B.Z)("<div>").addClass(t+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var t=(0,Z.V4)(O.Z.down,this.NAME),e=this.$element();a.Z.off(e,t),a.Z.on(e,t,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(t){t.preventDefault(),this._clearTimer(),a.Z.on(this.$element(),P.Z.name,function(){this._feedBackDeferred=new F.BH,(0,A.dR)(this._feedBackDeferred),this._spinChangeHandler({event:t}),this._holdTimer=setInterval(this._spinChangeHandler,$,{event:t})}.bind(this));var e=I["default"].getDocument();a.Z.on(e,R,this._clearTimer.bind(this)),a.Z.on(e,z,this._clearTimer.bind(this)),this._spinChangeHandler({event:t})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){a.Z.off(this.$element(),P.Z.name);var t=I["default"].getDocument();a.Z.off(t,R),a.Z.off(t,z),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(t){switch(t.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(t)}}}),K=W,Y="dx-numberbox-spin",U="dx-numberbox-spin-container",q="dx-numberbox-spin-touch-friendly";class j extends k.Z{_attachEvents(t,e){var{editor:i}=this,n=(0,Z.V4)(O.Z.down,i.NAME),s=e.children(),o=i._createAction((t=>i._spinButtonsPointerDownHandler(t)));a.Z.off(e,n),a.Z.on(e,n,(t=>o({event:t}))),K.getInstance(s.eq(0)).option("onChange",(t=>i._spinUpChangeHandler(t))),K.getInstance(s.eq(1)).option("onChange",(t=>i._spinDownChangeHandler(t)))}_create(){var{editor:t}=this,e=(0,B.Z)("<div>").addClass(U),i=(0,B.Z)("<div>").appendTo(e),n=(0,B.Z)("<div>").appendTo(e),a=this._getOptions();return this._addToContainer(e),t._createComponent(i,K,(0,s.l)({direction:"up"},a)),t._createComponent(n,K,(0,s.l)({direction:"down"},a)),this._legacyRender(t.$element(),this._isTouchFriendly(),a.visible),{instance:e,$element:e}}_getOptions(){var{editor:t}=this,e=this._isVisible(),i=t.option("disabled");return{visible:e,disabled:i}}_isVisible(){var{editor:t}=this;return super._isVisible()&&t.option("showSpinButtons")}_isTouchFriendly(){var{editor:t}=this;return t.option("showSpinButtons")&&t.option("useLargeSpinButtons")}_legacyRender(t,e,i){t.toggleClass(q,e),t.toggleClass(Y,i)}update(){var t=super.update();if(t){var{editor:e,instance:i}=this,n=e.$element(),a=this._isVisible(),s=this._isTouchFriendly(),o=i.children(),r=K.getInstance(o.eq(0)),l=K.getInstance(o.eq(1)),h=this._getOptions();r.option(h),l.option(h),this._legacyRender(n,s,a)}}}var G=i(19231),J=Math,Q="dx-numberbox",X=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],tt="NumberBoxForceValueChange",et=E.Z.inherit({_supportedKeys:function(){return(0,s.l)(this.callBase(),{upArrow:function(t){(0,Z.j1)(t)||(t.preventDefault(),t.stopPropagation(),this._spinUpChangeHandler(t))},downArrow:function(t){(0,Z.j1)(t)||(t.preventDefault(),t.stopPropagation(),this._spinDownChangeHandler(t))},enter:function(){}})},_getDefaultOptions:function(){return(0,s.l)(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:G.Z.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:j}])},_isSupportInputMode:function(){var t=parseFloat(T.Z.version);return T.Z.chrome&&t>=66||T.Z.safari&&t>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return r.Z.real().generic&&!r.Z.isSimulator()},options:{useLargeSpinButtons:!1}},{device:function(){return"desktop"!==r.Z.real().deviceType&&!this._isSupportInputMode()}.bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass(Q),this.callBase()},_getDefaultAttributes:function(){var t=this.callBase();return t.inputmode="decimal",t},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=(0,B.Z)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){this._getSubmitElement().val((0,u.FH)(t))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(t){this.callBase(t);var e=(0,Z.qK)(t),i=/[\d.,eE\-+]/.test(e);if(!i){var n=(0,Z.EV)(t);if((0,Z.j1)(t)||n&&X.includes(n))return;return t.preventDefault(),!1}this._keyPressed=!0},_onMouseWheel:function(t){t.delta>0?this._spinValueChange(1,t):this._spinValueChange(-1,t)},_renderValue:function(){var t=this._input().val(),e=this.option("value");t.length&&Number(t)===e||(this._forceValueRender(),this._toggleEmptinessEventHandler());var i=(0,o.$K)(e)?null:G.Z.format("dxNumberBox-noDataText");return this.setAria({valuenow:(0,u.IS)(e,""),valuetext:i}),this.option("text",this._input().val()),this._updateButtons(),(new F.BH).resolve()},_forceValueRender:function(){var t=this.option("value"),e=Number(t),i=isNaN(e)?"":this._applyDisplayValueFormatter(t);this._renderDisplayText(i)},_applyDisplayValueFormatter:function(t){return this.option("displayValueFormatter")(t)},_renderProps:function(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:(0,u.IS)(this.option("min"),""),valuemax:(0,u.IS)(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var t=this._input();this.option("useLargeSpinButtons")||I["default"].getActiveElement()===t[0]||a.Z.trigger(t,"focus")},_spinUpChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(1,t.event||t)},_spinDownChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(-1,t.event||t)},_spinValueChange:function(t,e){var i=parseFloat(this.option("step"));if(0!==i){var n=parseFloat(this._normalizeInputValue())||0;n=this._correctRounding(n,i*t);var a=this.option("min"),s=this.option("max");(0,o.$K)(a)&&(n=Math.max(a,n)),(0,o.$K)(s)&&(n=Math.min(s,n)),this._saveValueChangeEvent(e),this.option("value",n)}},_correctRounding:function(t,e){var i=/[,.](.*)/,n=i.test(t),a=i.test(e);if(n||a){var s=n?i.exec(t)[0].length:0,o=a?i.exec(e)[0].length:0,r=J.max(s,o);return t=this._round(t+e,r),t}return t+e},_round:function(t,e){e=e||0;var i=Math.pow(10,e);return t*=i,t=Math.round(t)/i,t},_renderValueChangeEvent:function(){this.callBase();var t=(0,Z.V4)("focusout",tt);a.Z.off(this.element(),t),a.Z.on(this.element(),t,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if("number"!==this.option("mode")){var t=this._input(),e=this._applyDisplayValueFormatter(this.option("value"));t.val(null),t.val(e)}},_valueChangeEventHandler:function(t){var e=this._input(),i=this._normalizeText(),n=this._parseValue(i),a="."!==i&&"-"!==i;!this._isValueValid()||this._validateValue(n)?(a&&this.callBase(t,isNaN(n)?null:n),this._applyValueBoundaries(i,n),this.validationRequest.fire({value:n,editor:this})):e.val(this._applyDisplayValueFormatter(n))},_applyValueBoundaries:function(t,e){var i=this._isValueIncomplete(t),n=this._isValueInRange(t);i||n||null===e||Number(t)!==e&&this._input().val(this._applyDisplayValueFormatter(e))},_replaceCommaWithPoint:function(t){return t.replace(",",".")},_inputIsInvalid:function(){var t="number"===this.option("mode"),e=this._input().get(0).validity;return t&&e&&e.badInput},_renderDisplayText:function(t){this._inputIsInvalid()||this.callBase(t)},_isValueIncomplete:function(t){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(t)},_isValueInRange:function(t){return(0,l.Z2)(t,this.option("min"),this.option("max"))},_isNumber:function(t){return null!==this._parseValue(t)},_validateValue:function(t){var e=this._normalizeText(),i=this._isValueValid(),n=!0,a=this._isNumber(e);return isNaN(Number(t))&&(n=!1),!t&&i?n=!0:a||i||(n=!1),this.option({isValid:n,validationError:n?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),n},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var t=this._input().val().trim();return this._replaceCommaWithPoint(t)},_parseValue:function(t){var e=parseFloat(t);return isNaN(e)?null:(0,l.n$)(e,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){null===this.option("value")?(this.option("text",""),this._renderValue()):this.option("value",null)},_optionChanged:function(t){switch(t.name){case"value":this._validateValue(t.value),this._setSubmitValue(t.value),this.callBase(t),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(t)}}}),it=et,nt="dxNumberFormatter",at=1,st=-1,ot="-",rt="minus",lt="input",ht=0,ut=it.inherit({_getDefaultOptions:function(){return(0,s.l)(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(t){return"del"===t},_supportedKeys:function(){return this._useMaskBehavior()?(0,s.l)(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,st),rightArrow:this._arrowHandler.bind(this,at),home:this._moveCaretToBoundaryEventHandler.bind(this,at),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,st)}):this.callBase()},_getTextSeparatorIndex:function(t){var e=h.Z.getDecimalSeparator(),i=d(this.option("format")).occurrence;return c(t,e,i)},_focusInHandler:function(t){this._preventNestedFocusEvent(t)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0;var e=this._caret();if(e.start===e.end&&this._useMaskBehavior()){var i=this._getInputVal(),n=this._getTextSeparatorIndex(i);n>=0?this._caret({start:n,end:n}):this._moveCaretToBoundaryEventHandler(st,t)}}.bind(this),ht)),this.callBase(t)},_focusOutHandler:function(t){var e=!this._preventNestedFocusEvent(t);e&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(t),e&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(t){var e=this._getFormatPattern(),i=this.option("value"),n=this._format(i,e)||"";return n!==t},_updateFormattedValue:function(){var t=this._getInputVal();this._hasValueBeenChanged(t)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&a.Z.trigger(this._input(),"change"))},_arrowHandler:function(t,e){if(this._useMaskBehavior()){var i=this._getInputVal(),n=this._getFormatPattern(),a=D(this._caret(),t);x(a,i,n)||(a=t===at?a.end:a.start,e.preventDefault(),this._caret(b(a,i,n)))}},_moveCaretToBoundary:function(t){var e=m(this._getInputVal(),this._getFormatPattern()),i=D(t===at?e.start:e.end,0);this._caret(i)},_moveCaretToBoundaryEventHandler:function(t,e){!this._useMaskBehavior()||e&&e.shiftKey||(this._moveCaretToBoundary(t),e&&e.preventDefault())},_shouldMoveCaret:function(t,e){var i=h.Z.getDecimalSeparator(),n=t.charAt(e.end)===i,a=(this._lastKey===i||"."===this._lastKey||","===this._lastKey)&&n;return a},_getInputVal:function(){return h.Z.convertDigits(this._input().val(),!0)},_keyboardHandler:function(t){if(this.clearCaretTimeout(),this._lastKey=h.Z.convertDigits((0,Z.qK)(t),!0),this._lastKeyName=(0,Z.EV)(t),!this._shouldHandleKey(t.originalEvent))return this.callBase(t);var e=this._getInputVal(),i=this._caret(),n=this._lastKeyName===rt?"":this._lastKey,a=this._tryParse(e,i,n);return this._shouldMoveCaret(e,i)&&(this._moveCaret(1),t.originalEvent.preventDefault()),void 0===a?this._lastKeyName!==rt&&t.originalEvent.preventDefault():this._parsedValue=a,this.callBase(t)},_keyPressHandler:function(t){this._useMaskBehavior()||this.callBase(t)},_removeHandler:function(t){var e=this._caret(),i=this._getInputVal(),n=e.start,a=e.end;this._lastKey=(0,Z.qK)(t),this._lastKeyName=(0,Z.EV)(t);var s=this._isDeleteKey(this._lastKeyName),o=!s;if(n===a){var r=n,l=o&&r>0||s&&r<i.length;if(!l)return void t.preventDefault();s&&a++,o&&n--}var u=i.slice(n,a);if(this._isStub(u))return this._moveCaret(s?1:-1),(this._parsedValue<0||1/this._parsedValue===-1/0)&&(this._revertSign(t),this._setTextByParsedValue()),void t.preventDefault();var d=h.Z.getDecimalSeparator();if(u!==d){if(a-n<i.length){var c=this._replaceSelectedText(i,{start:n,end:a},""),p=c.search(/[0-9]/)<0;if(p&&this._isValueInRange(0))return void(this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0)}var _=this._tryParse(i,{start:n,end:a},"");void 0===_?t.preventDefault():this._parsedValue=_}else{var m=i.indexOf(d);this._isNonStubAfter(m+1)&&(this._moveCaret(s?1:-1),t.preventDefault())}},_isPercentFormat:function(){var t=this._getFormatPattern(),e=t.replace(/'[^']+'/g,"");return-1!==e.indexOf("%")},_parse:function(t,e){var i=this.option("format"),n=(0,o.mf)(i.parser),a=n?i.parser:h.Z.parse,s=0;if(!n){var r=d(e).index,l=this._getTextSeparatorIndex(t),u=-1!==r?r:e.length,c=-1!==l?l:t.length;c>u&&-1===e.indexOf("#")&&(s=c-u)}return t=t.substr(s),a(t,e)},_format:function(t,e){var i=this.option("format"),n=(null===i||void 0===i?void 0:i.formatter)||i,a=(0,o.mf)(n)?n:h.Z.format,s=null===t?"":a(t,e);return s},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var t=this.option("format"),e=(0,o.mf)(null===t||void 0===t?void 0:t.parser),i=(0,o.HD)(t)&&(t.indexOf("0")>=0||t.indexOf("#")>=0),n="exponential"===t||"exponential"===(null===t||void 0===t?void 0:t.type),a=e||i||n;this._currentFormat=a?t:(0,S.y)((e=>{var i=this._format(e,t);return h.Z.convertDigits(i,!0)}))},_getFormatForSign:function(t){var e=this._getFormatPattern();if((0,o.HD)(e)){var i=e.split(";"),n=h.Z.getSign(t,e);return i[1]=i[1]||"-"+i[0],n<0?i[1]:i[0]}var a=h.Z.getSign(t);return a<0?"-":""},_removeStubs:function(t,e){var i=this._getFormatForSign(t),n=h.Z.getThousandsSeparator(),a=this._getStubs(i),s=t;if(a.length){var o=a[0],r=new RegExp("("+(0,u.hr)(a[1]||"")+")$","g"),l=new RegExp("[-"+(0,u.hr)(e?"":n)+"]","g");s=s.replace(o,"").replace(r,"").replace(l,"")}return s},_getStubs:function(t){var e=/[^']([#0.,]+)/g.exec(t),i=e&&e[0].trim();return t.split(i).map((function(t){return t.replace(/'/g,"")}))},_truncateToPrecision:function(t,e){if((0,o.$K)(t)){var i=t.toString(),n=i.indexOf(".");if(i&&n>-1){var a=parseFloat(i.substr(0,n+e+1));return isNaN(a)?t:a}}return t},_tryParse:function(t,e,i){var n=this._replaceSelectedText(t,e,i),a=this._getFormatPattern(),s=e.start!==e.end,o=this._getParsedValue(n,a),r=!a.parser&&this._getPrecisionLimits(n).max,l=o!==this._parsedValue,u=h.Z.getDecimalSeparator(),d=i===u&&0===r,c=!s&&!l&&i!==ot&&!this._isValueIncomplete(n)&&this._isStub(i);if(!d&&!c&&(""===this._removeStubs(n)&&(o=Math.abs(0*this._parsedValue)),!isNaN(o))){var p=null===o?this._parsedValue:o;return o=r?this._truncateToPrecision(p,r):o,!a.parser&&this._isPercentFormat()?_(o,r):o}},_getParsedValue:function(t,e){var i=h.Z.getSign(t,(null===e||void 0===e?void 0:e.formatter)||e),n=this._removeStubs(t,!0),a=this._parse(n,e),s=a<0?-1:1,r=(0,o.kE)(a)&&i!==s?i*a:a;return r},_isValueIncomplete:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret(),i=h.Z.getDecimalSeparator(),n=this._getTextSeparatorIndex(t),a=n>=0&&n<e.start,s=this._removeStubs(t,!0).split(i);if(!a||2!==s.length)return!1;var o=s[1].length,r=this._getFormatPattern(),u=!!r.parser,d=!u&&this._getPrecisionLimits(this._getFormatPattern(),t),c=!!u||(0,l.Z2)(o,d.min,d.max),p="0"===s[1].charAt(o-1);return c&&(p||!o)},_isValueInRange:function(t){var e=(0,u.IS)(this.option("min"),-1/0),i=(0,u.IS)(this.option("max"),1/0);return(0,l.Z2)(t,e,i)},_setInputText:function(t){var e=h.Z.convertDigits(t,!0),i=y(this._getInputVal(),e,this._caret(),this._getFormatPattern());this._input().val(t),this._toggleEmptinessEventHandler(),this._formattedValue=t,this._focusOutOccurs||this._caret(i)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var t="number"===this.option("mode"),e="desktop"===r.Z.real().deviceType;this._useMaskBehavior()&&t?this._setInputType(e||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(t){return(0,o.HD)(t)&&1===t.length},_moveCaret:function(t){if(t){var e=D(this._caret(),t),i=b(e,this._getInputVal(),this._getFormatPattern());this._caret(i)}},_shouldHandleKey:function(t){var e=(0,Z.EV)(t),i=(0,Z.j1)(t)||t.altKey||t.shiftKey||!this._isChar(e),n=e===rt,a=this._useMaskBehavior();return a&&!i&&!n},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){a.Z.off(this._input(),"."+nt)},_isInputFromPaste:function(t){var e=t.originalEvent&&t.originalEvent.inputType;return(0,o.$K)(e)?"insertFromPaste"===e:this._isValuePasted},_attachFormatterEvents:function(){var t=this._input();a.Z.on(t,(0,Z.V4)(lt,nt),function(t){this._formatValue(t),this._isValuePasted=!1}.bind(this)),a.Z.on(t,(0,Z.V4)("dxclick",nt),function(){this._caretTimeout||(this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0,this._caret(b(this._caret(),this._getInputVal(),this._getFormatPattern()))}.bind(this),ht))}.bind(this)),a.Z.on(t,"dxdblclick",function(){this.clearCaretTimeout()}.bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(t){var e=this._getInputVal().slice(t);return e&&!this._isStub(e,!0)},_isStub:function(t,e){var i=(0,u.hr)(h.Z.getDecimalSeparator()),n="^[^0-9"+i+"]+$",a=new RegExp(n,"g");return a.test(t)&&(e||this._isChar(t))},_parseValue:function(t){return this._useMaskBehavior()?this._parsedValue:this.callBase(t)},_getPrecisionLimits:function(t){var e=this._getFormatForSign(t),i=d(e).index,n=(p(e,i)[1]||"").replace(/[^#0]/g,""),a=n.replace(/^(0*)#*/,"$1").length,s=n.length;return{min:a,max:s}},_revertSign:function(t){if(this._useMaskBehavior()){var e=this._caret();if(e.start!==e.end){if((0,Z.EV)(t)===rt)return void this._applyRevertedSign(t,e,!0);this._caret(b(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(t,e)}},_applyRevertedSign:function(t,e,i){var n=-1*(0,u.IS)(this._parsedValue,null);if((this._isValueInRange(n)||0===n)&&(this._parsedValue=n,i)){var a=this._getFormatPattern(),s=this._getInputVal();this._setTextByParsedValue(),t.preventDefault();var o=this._getInputVal(),r=V(s,o,a);e=D(e,r);var l=b(e,o,a);this._caret(l)}},_removeMinusFromText:function(t,e){var i=this._lastKeyName===rt&&t.charAt(e.start-1)===ot;return i?this._replaceSelectedText(t,{start:e.start-1,end:e.start},""):t},_setTextByParsedValue:function(){var t=this._getFormatPattern(),e=this._parseValue(),i=this._format(e,t)||"";this._setInputText(i)},_formatValue:function(t){var e=this._getInputVal(),i=this._caret(),n=this._removeMinusFromText(e,i),a=n!==e;if(e=n,!this._isInputFromPaste(t)&&this._isValueIncomplete(n))return this._formattedValue=e,void(a&&this._setTextByParsedValue());var s=h.Z.convertDigits(this._formattedValue,!0)!==e;if(s){var r=this._tryParse(e,i,"");(0,o.$K)(r)&&(this._parsedValue=r)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var t=this._getInputVal();this._parsedValue=this._tryParse(t,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var t=this._removeStubs(this._getInputVal()),e=t?this._parseValue():null;(0,o.kE)(e)?this._parsedValue=(0,l.n$)(e,this.option("min"),this.option("max")):this._parsedValue=e}},_valueChangeEventHandler:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret();this._saveValueChangeEvent(t),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),e&&this._caret(e)},_optionChanged:function(t){switch(t.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(t);break;default:this.callBase(t)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}}),dt=ut;(0,n.Z)("dxNumberBox",dt);var ct=dt,pt=ct},81089:function(t,e,i){i.r(e);var n=i(60621),a=i(84392),s=i(9783),o=i(72602),r=i(12145),l=i(42061),h=i(12117),u=i(17383),d=i(33158),c=i(19231),p=i(70732),_=i(87242),m=(i(56043),i(84518)),f=".dx-state-disabled",v="dx-selectbox",g="dx-selectbox-popup",C="dx-selectbox-container",D="dx-selectbox-popup-wrapper",y=_.Z.inherit({_supportedKeys:function(){var t=this,e=this.callBase(),i=function(t){var e=this._isEditable();e?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(t.preventDefault(),this.reset()),this._savedTextRemoveEvent=t,this._preventSubstitution=!0},n=function(){t.option("searchEnabled")&&t._valueSubstituted()&&t._searchHandler()};return(0,o.l)({},e,{tab:function(){this.option("opened")&&"instantly"===this.option("applyValueMode")&&this._resetCaretPosition(!0),e.tab&&e.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(t){if(e.upArrow&&e.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(t),!0},downArrow:function(t){if(e.downArrow&&e.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(t),!0},leftArrow:function(){n(),e.leftArrow&&e.leftArrow.apply(this,arguments)},rightArrow:function(){n(),e.rightArrow&&e.rightArrow.apply(this,arguments)},home:function(){n(),e.home&&e.home.apply(this,arguments)},end:function(){n(),e.end&&e.end.apply(this,arguments)},escape:function(){var t=e.escape&&e.escape.apply(this,arguments);return this._cancelEditing(),null===t||void 0===t||t},enter:function(t){var i=this.option("opened"),n=this._input().val().trim(),a=n&&this._list&&!this._list.option("focusedElement");if(!n&&(0,s.$K)(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(t),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return t.preventDefault(),a&&(i&&this._toggleOpenState(),this._valueChangeEventHandler(t)),i;if(e.enter&&e.enter.apply(this,arguments))return i}},space:function(t){var e=this.option("opened"),i=this.option("searchEnabled"),n=this.option("acceptCustomValue");if(e&&!i&&!n)return t.preventDefault(),this._valueChangeEventHandler(t),!0},backspace:i,del:i})},_getDefaultOptions:function(){return(0,o.l)(this.callBase(),{placeholder:c.Z.format("Select"),fieldTemplate:null,customItemCreateEvent:"change",valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(t){(0,s.$K)(t.customItem)||(t.customItem=t.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass(v),this._renderTooltip(),this.callBase(),this._$container.addClass(C)},_createPopup:function(){this.callBase(),this._popup.$element().addClass(g),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" "+D},_setDeprecatedOptions(){this.callBase(),(0,o.l)(this._deprecatedOptions,{valueChangeEvent:{since:"22.2",alias:"customItemCreateEvent"}})},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){var t,e=this._searchValue();if(e){var{items:i,selectedItem:n}=this.option(),a=this._list._itemElements(),s=null!==(t=null===i||void 0===i?void 0:i.indexOf(n))&&void 0!==t?t:-1,o=-1===s||this._isCustomItemSelected()?null:a.eq(s);this._focusListElement(o)}else this._focusListElement(null)},_renderFocusedElement:function(){if(this._list){var t=this._searchValue();if(t&&!this.option("acceptCustomValue")){var e=this._list._itemElements(),i=e.not(f).eq(0);this._focusListElement(i)}else this._focusListElement(null)}},_focusListElement:function(t){this._preventInputValueRender=!0,this._list.option("focusedElement",(0,h.u)(t)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase();var t=this._dataController.paginate();t&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),(new l.BH).resolve()},_renderInputValue:function(){return this.callBase().always(function(){this._renderInputValueAsync()}.bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always(function(){this._refreshSelected()}.bind(this))},_renderInputValueImpl:function(){return this._renderField(),(new l.BH).resolve()},_setNextItem:function(t){var e=this._calcNextItem(t),i=this._valueGetter(e);this._setValue(i)},_setNextValue:function(t){var e=this._dataController.isLoaded()?(new l.BH).resolve():this._dataController.load();e.done(function(){var e=this._getSelectedIndex(),i=this._dataController.pageSize(),n=this._dataController.isLastPage(),a=e===this._items().length-1;this._saveValueChangeEvent(t);var s="downArrow"===(0,m.EV)(t)?1:-1;i&&!n&&a&&s>0?(this._popup||this._createPopup(),this._dataController.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,s))):this._setNextItem(s)}.bind(this))},_setSelectedItem:function(t){var e=!this._isCustomValueAllowed()&&void 0===t;this.callBase(e?null:t),e||this._isEditable()&&!this._isCustomItemSelected()||this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(t){return t=!(0,s.$K)(t)&&this._isCustomValueAllowed()?this.option("value"):t,this.callBase(t)},_listConfig:function(){var t=(0,o.l)(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&(0,o.l)(t,{showSelectionControls:!0,selectionByClick:!0}),t},_listFocusedItemChangeHandler:function(t){if(!this._preventInputValueRender){var e=t.component,i=(0,n.Z)(e.option("focusedElement")),a=e._getItemData(i);this._updateField(a)}},_updateField:function(t){var e=this._getTemplateByOption("fieldTemplate");if(!e||!this.option("fieldTemplate")){var i=this._displayGetter(t);return this.option("text",i),void this._renderDisplayText(i)}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):a.ZT},_selectionChangeHandler:function(t){(0,r.S6)(t.addedItems||[],function(t,e){this._setValue(this._valueGetter(e))}.bind(this))},_getActualSearchValue:function(){return this._dataController.searchValue()},_toggleOpenState:function(t){if(!this.option("disabled")){if(t=arguments.length?t:!this.option("opened"),t||this._shouldClearFilter()||this._restoreInputText(!0),this._wasSearch()&&t){this._wasSearch(!1);var e=this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded();if(e&&this._dataController.getDataSource()){if(this._searchTimer)return;var i=this._getActualSearchValue();i&&this._wasSearch(!0),this._filterDataSource(i||null)}else this._setListOption("items",[])}t&&this._scrollToSelectedItem(),this.callBase(t)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._dimensionChanged()},_isValueEqualInputText:function(){var t=this.option("selectedItem");if(null===t)return!1;var e=this._displayGetter(t),i=e?String(e):"",n=this._searchValue();return i===n},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(t){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always(function(){var{acceptCustomValue:e,text:i,selectedItem:n}=this.option();e?t||this._isValueChanging||(this._updateField(null!==n&&void 0!==n?n:this._createCustomItem(i)),this._clearFilter()):this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")?this._clearTextValue():this._isValueEqualInputText()||this._renderInputValue().always(function(t){var e=(0,a.IS)(t,n);this._setSelectedItem(e),this._updateField(e),this._clearFilter()}.bind(this))}.bind(this))},_valueChangeEventIncludesBlur:function(){var t=this.option(this._getValueChangeEventOptionName());return t.includes("blur")},_isPreventedFocusOutEvent:function(t){return this._preventNestedFocusEvent(t)||this._valueChangeEventIncludesBlur()},_focusOutHandler:function(t){if(!this._isPreventedFocusOutEvent(t)){var e=this._isOverlayNestedTarget(t.relatedTarget);e||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(t)}t.target=this._input().get(0),this.callBase(t)},_cancelSearchIfNeed:function(t){var{searchEnabled:e}=this.option(),i=this._isOverlayNestedTarget(null===t||void 0===t?void 0:t.relatedTarget),n=this._wasSearch()&&e&&!i;if(n){var a,s=null===(a=this._popup)||void 0===a?void 0:a._hideAnimationProcessing;this._clearSearchTimer(),s?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch:function(t){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=t},_isOverlayNestedTarget:function(t){return!!(0,n.Z)(t).closest(".".concat(D)).length},_clearTextValue:function(){this.option("selectedItem")&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var t=d["default"].getActiveElement(this.element());return this.callBase()&&(0,n.Z)(t).closest(this._input()).length>0},_getValueChangeEventOptionName:function(){return"customItemCreateEvent"},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var t=this._list&&this.option("opened")&&(0,n.Z)(this._list.option("focusedElement"));return t&&t.length?this._list._getItemData(t):this.option("selectedItem")},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&"single"!==this.option("selectionMode"))},_listItemClickHandler:function(t){var e=this._getCurrentValue();this._focusListElement((0,n.Z)(t.itemElement)),this._saveValueChangeEvent(t.event),this._completeSelection(this._valueGetter(t.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&e===this._valueGetter(t.itemData)&&this._updateField(t.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(t){this._setValue(t)},_loadItem:function(t,e){var i=this,n=new l.BH;return this.callBase(t,e).done(function(t){n.resolve(t)}.bind(this)).fail(function(e){if(null===e||void 0===e||!e.shouldSkipCallback){var a=i.option("selectedItem");i.option("acceptCustomValue")&&t===i._valueGetter(a)?n.resolve(a):n.reject()}}.bind(this)),n.promise()},_loadInputValue:function(t,e){return this._loadItemDeferred=this._loadItem(t).always(e),this._loadItemDeferred},_isCustomItemSelected:function(){var t=this.option("selectedItem"),e=this._searchValue(),i=this._displayGetter(t);return!i||e!==i.toString()},_valueChangeEventHandler:function(t){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(t))},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(t){var e={text:t},i=this._customItemCreatingAction(e),n=(0,a.IS)(i,e.customItem);return(0,s.$K)(i)&&u.Z.log("W0015","onCustomItemCreating","customItem"),n},_customItemAddedHandler:function(t){var e=this._searchValue(),i=this._createCustomItem(e);if(this._saveValueChangeEvent(t),void 0===i)throw this._renderValue(),u.Z.Error("E0121");(0,s.tI)(i)?(0,l.p4)(i).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(i)},_setCustomItem:function(t){this._disposed||(t=t||null,this.option("selectedItem",t),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(t)),this._renderDisplayText(this._displayGetter(t)),this._isValueChanging=!1)},_clearValueHandler:function(t){return this._preventFiltering=!0,this.callBase(t),this._searchCanceled(),!1},_wasSearch:function(t){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=t},_searchHandler:function(){this._preventFiltering?delete this._preventFiltering:(this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments))},_dataSourceFiltered:function(t){this.callBase(),null!==t&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var t=this._input().get(0),e=this._searchValue().length,i=0===t.selectionStart&&t.selectionEnd===e,n=t.selectionStart!==t.selectionEnd,a=e===t.selectionEnd;return this._wasSearch()&&n&&!i&&a&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&"startswith"===this.option("searchMode")},_renderInputSubstitution:function(){if(this._shouldSubstitutionBeRendered()){var t=this._list&&this._getPlainItems(this._list.option("items"))[0];if(t){var e=this._input(),i=e.val().length;if(0!==i){var n=e.get(0),a=this._displayGetter(t).toString();n.value=a,this._caret({start:i,end:a.length})}}}else delete this._preventSubstitution},_dispose:function(){this._renderInputValueAsync=a.ZT,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(t){switch(t.name){case"customItemCreateEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(t)}}});(0,p.Z)("dxSelectBox",y),e["default"]=y}}]);